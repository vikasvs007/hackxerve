/**
 * AgoraWebSDK_N-v4.23.1-0-gea45199f-dirty Copyright AgoraInc.
 */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).AgoraRTCReport={})}(this,(function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n={exports:{}},i=function(t){return t&&t.Math===Math&&t},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},a=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),c=a,u=Function.prototype,E=u.apply,l=u.call,p="object"==typeof Reflect&&Reflect.apply||(c?l.bind(E):function(){return l.apply(E,arguments)}),d=a,h=Function.prototype,_=h.call,f=d&&h.bind.bind(_,_),T=d?f:function(t){return function(){return _.apply(t,arguments)}},R=T,O=R({}.toString),A=R("".slice),m=function(t){return A(O(t),8,-1)},S=m,I=T,g=function(t){if("Function"===S(t))return I(t)},N="object"==typeof document&&document.all,b=void 0===N&&void 0!==N?function(t){return"function"==typeof t||t===N}:function(t){return"function"==typeof t},C={},y=!s((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),w=a,L=Function.prototype.call,v=w?L.bind(L):function(){return L.apply(L,arguments)},P={},D={}.propertyIsEnumerable,U=Object.getOwnPropertyDescriptor,M=U&&!D.call({1:2},1);P.f=M?function(t){var e=U(this,t);return!!e&&e.enumerable}:D;var x,k,F=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},V=s,B=m,W=Object,G=T("".split),j=V((function(){return!W("z").propertyIsEnumerable(0)}))?function(t){return"String"===B(t)?G(t,""):W(t)}:W,H=function(t){return null==t},K=H,Y=TypeError,z=function(t){if(K(t))throw new Y("Can't call method on "+t);return t},J=j,X=z,q=function(t){return J(X(t))},Q=b,Z=function(t){return"object"==typeof t?null!==t:Q(t)},$={},tt=$,et=o,rt=b,nt=function(t){return rt(t)?t:void 0},it=function(t,e){return arguments.length<2?nt(tt[t])||nt(et[t]):tt[t]&&tt[t][e]||et[t]&&et[t][e]},ot=T({}.isPrototypeOf),st=o.navigator,at=st&&st.userAgent,ct=at?String(at):"",ut=o,Et=ct,lt=ut.process,pt=ut.Deno,dt=lt&&lt.versions||pt&&pt.version,ht=dt&&dt.v8;ht&&(k=(x=ht.split("."))[0]>0&&x[0]<4?1:+(x[0]+x[1])),!k&&Et&&(!(x=Et.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=Et.match(/Chrome\/(\d+)/))&&(k=+x[1]);var _t=k,ft=_t,Tt=s,Rt=o.String,Ot=!!Object.getOwnPropertySymbols&&!Tt((function(){var t=Symbol("symbol detection");return!Rt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ft&&ft<41})),At=Ot&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,mt=it,St=b,It=ot,gt=Object,Nt=At?function(t){return"symbol"==typeof t}:function(t){var e=mt("Symbol");return St(e)&&It(e.prototype,gt(t))},bt=String,Ct=function(t){try{return bt(t)}catch(t){return"Object"}},yt=b,wt=Ct,Lt=TypeError,vt=function(t){if(yt(t))return t;throw new Lt(wt(t)+" is not a function")},Pt=vt,Dt=H,Ut=function(t,e){var r=t[e];return Dt(r)?void 0:Pt(r)},Mt=v,xt=b,kt=Z,Ft=TypeError,Vt={exports:{}},Bt=o,Wt=Object.defineProperty,Gt=o,jt=function(t,e){try{Wt(Bt,t,{value:e,configurable:!0,writable:!0})}catch(r){Bt[t]=e}return e},Ht="__core-js_shared__",Kt=Vt.exports=Gt[Ht]||jt(Ht,{});(Kt.versions||(Kt.versions=[])).push({version:"3.39.0",mode:"pure",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.39.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Yt=Vt.exports,zt=Yt,Jt=function(t,e){return zt[t]||(zt[t]=e||{})},Xt=z,qt=Object,Qt=function(t){return qt(Xt(t))},Zt=Qt,$t=T({}.hasOwnProperty),te=Object.hasOwn||function(t,e){return $t(Zt(t),e)},ee=T,re=0,ne=Math.random(),ie=ee(1..toString),oe=function(t){return"Symbol("+(void 0===t?"":t)+")_"+ie(++re+ne,36)},se=Jt,ae=te,ce=oe,ue=Ot,Ee=At,le=o.Symbol,pe=se("wks"),de=Ee?le.for||le:le&&le.withoutSetter||ce,he=function(t){return ae(pe,t)||(pe[t]=ue&&ae(le,t)?le[t]:de("Symbol."+t)),pe[t]},_e=v,fe=Z,Te=Nt,Re=Ut,Oe=function(t,e){var r,n;if("string"===e&&xt(r=t.toString)&&!kt(n=Mt(r,t)))return n;if(xt(r=t.valueOf)&&!kt(n=Mt(r,t)))return n;if("string"!==e&&xt(r=t.toString)&&!kt(n=Mt(r,t)))return n;throw new Ft("Can't convert object to primitive value")},Ae=TypeError,me=he("toPrimitive"),Se=function(t,e){if(!fe(t)||Te(t))return t;var r,n=Re(t,me);if(n){if(void 0===e&&(e="default"),r=_e(n,t,e),!fe(r)||Te(r))return r;throw new Ae("Can't convert object to primitive value")}return void 0===e&&(e="number"),Oe(t,e)},Ie=Nt,ge=function(t){var e=Se(t,"string");return Ie(e)?e:e+""},Ne=Z,be=o.document,Ce=Ne(be)&&Ne(be.createElement),ye=function(t){return Ce?be.createElement(t):{}},we=ye,Le=!y&&!s((function(){return 7!==Object.defineProperty(we("div"),"a",{get:function(){return 7}}).a})),ve=y,Pe=v,De=P,Ue=F,Me=q,xe=ge,ke=te,Fe=Le,Ve=Object.getOwnPropertyDescriptor;C.f=ve?Ve:function(t,e){if(t=Me(t),e=xe(e),Fe)try{return Ve(t,e)}catch(t){}if(ke(t,e))return Ue(!Pe(De.f,t,e),t[e])};var Be=s,We=b,Ge=/#|\.prototype\./,je=function(t,e){var r=Ke[He(t)];return r===ze||r!==Ye&&(We(e)?Be(e):!!e)},He=je.normalize=function(t){return String(t).replace(Ge,".").toLowerCase()},Ke=je.data={},Ye=je.NATIVE="N",ze=je.POLYFILL="P",Je=je,Xe=vt,qe=a,Qe=g(g.bind),Ze=function(t,e){return Xe(t),void 0===e?t:qe?Qe(t,e):function(){return t.apply(e,arguments)}},$e={},tr=y&&s((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),er=Z,rr=String,nr=TypeError,ir=function(t){if(er(t))return t;throw new nr(rr(t)+" is not an object")},or=y,sr=Le,ar=tr,cr=ir,ur=ge,Er=TypeError,lr=Object.defineProperty,pr=Object.getOwnPropertyDescriptor,dr="enumerable",hr="configurable",_r="writable";$e.f=or?ar?function(t,e,r){if(cr(t),e=ur(e),cr(r),"function"==typeof t&&"prototype"===e&&"value"in r&&_r in r&&!r[_r]){var n=pr(t,e);n&&n[_r]&&(t[e]=r.value,r={configurable:hr in r?r[hr]:n[hr],enumerable:dr in r?r[dr]:n[dr],writable:!1})}return lr(t,e,r)}:lr:function(t,e,r){if(cr(t),e=ur(e),cr(r),sr)try{return lr(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new Er("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var fr=$e,Tr=F,Rr=y?function(t,e,r){return fr.f(t,e,Tr(1,r))}:function(t,e,r){return t[e]=r,t},Or=o,Ar=p,mr=g,Sr=b,Ir=C.f,gr=Je,Nr=$,br=Ze,Cr=Rr,yr=te,wr=function(t){var e=function(r,n,i){if(this instanceof e){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,n)}return new t(r,n,i)}return Ar(t,this,arguments)};return e.prototype=t.prototype,e},Lr=function(t,e){var r,n,i,o,s,a,c,u,E,l=t.target,p=t.global,d=t.stat,h=t.proto,_=p?Or:d?Or[l]:Or[l]&&Or[l].prototype,f=p?Nr:Nr[l]||Cr(Nr,l,{})[l],T=f.prototype;for(o in e)n=!(r=gr(p?o:l+(d?".":"#")+o,t.forced))&&_&&yr(_,o),a=f[o],n&&(c=t.dontCallGetSet?(E=Ir(_,o))&&E.value:_[o]),s=n&&c?c:e[o],(r||h||typeof a!=typeof s)&&(u=t.bind&&n?br(s,Or):t.wrap&&n?wr(s):h&&Sr(s)?mr(s):s,(t.sham||s&&s.sham||a&&a.sham)&&Cr(u,"sham",!0),Cr(f,o,u),h&&(yr(Nr,i=l+"Prototype")||Cr(Nr,i,{}),Cr(Nr[i],o,s),t.real&&T&&(r||!T[o])&&Cr(T,o,s)))},vr=Lr,Pr=y,Dr=$e.f;vr({target:"Object",stat:!0,forced:Object.defineProperty!==Dr,sham:!Pr},{defineProperty:Dr});var Ur=$.Object,Mr=n.exports=function(t,e,r){return Ur.defineProperty(t,e,r)};Ur.defineProperty.sham&&(Mr.sham=!0);var xr=r(n.exports),kr=m,Fr=Array.isArray||function(t){return"Array"===kr(t)},Vr=Math.ceil,Br=Math.floor,Wr=Math.trunc||function(t){var e=+t;return(e>0?Br:Vr)(e)},Gr=function(t){var e=+t;return e!=e||0===e?0:Wr(e)},jr=Gr,Hr=Math.min,Kr=function(t){var e=jr(t);return e>0?Hr(e,9007199254740991):0},Yr=function(t){return Kr(t.length)},zr=TypeError,Jr=y,Xr=$e,qr=F,Qr={};Qr[he("toStringTag")]="z";var Zr="[object z]"===String(Qr),$r=Zr,tn=b,en=m,rn=he("toStringTag"),nn=Object,on="Arguments"===en(function(){return arguments}()),sn=$r?en:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=nn(t),rn))?r:on?en(e):"Object"===(n=en(e))&&tn(e.callee)?"Arguments":n},an=b,cn=Yt,un=T(Function.toString);an(cn.inspectSource)||(cn.inspectSource=function(t){return un(t)});var En=cn.inspectSource,ln=T,pn=s,dn=b,hn=sn,_n=En,fn=function(){},Tn=it("Reflect","construct"),Rn=/^\s*(?:class|function)\b/,On=ln(Rn.exec),An=!Rn.test(fn),mn=function(t){if(!dn(t))return!1;try{return Tn(fn,[],t),!0}catch(t){return!1}},Sn=function(t){if(!dn(t))return!1;switch(hn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return An||!!On(Rn,_n(t))}catch(t){return!0}};Sn.sham=!0;var In=!Tn||pn((function(){var t;return mn(mn.call)||!mn(Object)||!mn((function(){t=!0}))||t}))?Sn:mn,gn=Fr,Nn=In,bn=Z,Cn=he("species"),yn=Array,wn=function(t){var e;return gn(t)&&(e=t.constructor,(Nn(e)&&(e===yn||gn(e.prototype))||bn(e)&&null===(e=e[Cn]))&&(e=void 0)),void 0===e?yn:e},Ln=function(t,e){return new(wn(t))(0===e?0:e)},vn=s,Pn=_t,Dn=he("species"),Un=Lr,Mn=s,xn=Fr,kn=Z,Fn=Qt,Vn=Yr,Bn=function(t){if(t>9007199254740991)throw zr("Maximum allowed index exceeded");return t},Wn=function(t,e,r){Jr?Xr.f(t,e,qr(0,r)):t[e]=r},Gn=Ln,jn=function(t){return Pn>=51||!vn((function(){var e=[];return(e.constructor={})[Dn]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Hn=_t,Kn=he("isConcatSpreadable"),Yn=Hn>=51||!Mn((function(){var t=[];return t[Kn]=!1,t.concat()[0]!==t})),zn=function(t){if(!kn(t))return!1;var e=t[Kn];return void 0!==e?!!e:xn(t)};Un({target:"Array",proto:!0,arity:1,forced:!Yn||!jn("concat")},{concat:function(t){var e,r,n,i,o,s=Fn(this),a=Gn(s,0),c=0;for(e=-1,n=arguments.length;e<n;e++)if(zn(o=-1===e?s:arguments[e]))for(i=Vn(o),Bn(c+i),r=0;r<i;r++,c++)r in o&&Wn(a,c,o[r]);else Bn(c+1),Wn(a,c++,o);return a.length=c,a}});var Jn=sn,Xn=String,qn=function(t){if("Symbol"===Jn(t))throw new TypeError("Cannot convert a Symbol value to a string");return Xn(t)},Qn={},Zn=Gr,$n=Math.max,ti=Math.min,ei=q,ri=function(t,e){var r=Zn(t);return r<0?$n(r+e,0):ti(r,e)},ni=Yr,ii=function(t){return function(e,r,n){var i=ei(e),o=ni(i);if(0===o)return!t&&-1;var s,a=ri(n,o);if(t&&r!=r){for(;o>a;)if((s=i[a++])!=s)return!0}else for(;o>a;a++)if((t||a in i)&&i[a]===r)return t||a||0;return!t&&-1}},oi={includes:ii(!0),indexOf:ii(!1)},si={},ai=te,ci=q,ui=oi.indexOf,Ei=si,li=T([].push),pi=function(t,e){var r,n=ci(t),i=0,o=[];for(r in n)!ai(Ei,r)&&ai(n,r)&&li(o,r);for(;e.length>i;)ai(n,r=e[i++])&&(~ui(o,r)||li(o,r));return o},di=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hi=pi,_i=di,fi=Object.keys||function(t){return hi(t,_i)},Ti=y,Ri=tr,Oi=$e,Ai=ir,mi=q,Si=fi;Qn.f=Ti&&!Ri?Object.defineProperties:function(t,e){Ai(t);for(var r,n=mi(e),i=Si(e),o=i.length,s=0;o>s;)Oi.f(t,r=i[s++],n[r]);return t};var Ii,gi=it("document","documentElement"),Ni=oe,bi=Jt("keys"),Ci=function(t){return bi[t]||(bi[t]=Ni(t))},yi=ir,wi=Qn,Li=di,vi=si,Pi=gi,Di=ye,Ui="prototype",Mi="script",xi=Ci("IE_PROTO"),ki=function(){},Fi=function(t){return"<"+Mi+">"+t+"</"+Mi+">"},Vi=function(t){t.write(Fi("")),t.close();var e=t.parentWindow.Object;return t=null,e},Bi=function(){try{Ii=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;Bi="undefined"!=typeof document?document.domain&&Ii?Vi(Ii):(e=Di("iframe"),r="java"+Mi+":",e.style.display="none",Pi.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Fi("document.F=Object")),t.close(),t.F):Vi(Ii);for(var n=Li.length;n--;)delete Bi[Ui][Li[n]];return Bi()};vi[xi]=!0;var Wi=Object.create||function(t,e){var r;return null!==t?(ki[Ui]=yi(t),r=new ki,ki[Ui]=null,r[xi]=t):r=Bi(),void 0===e?r:wi.f(r,e)},Gi={},ji=pi,Hi=di.concat("length","prototype");Gi.f=Object.getOwnPropertyNames||function(t){return ji(t,Hi)};var Ki={},Yi=T([].slice),zi=m,Ji=q,Xi=Gi.f,qi=Yi,Qi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Ki.f=function(t){return Qi&&"Window"===zi(t)?function(t){try{return Xi(t)}catch(t){return qi(Qi)}}(t):Xi(Ji(t))};var Zi={};Zi.f=Object.getOwnPropertySymbols;var $i=Rr,to=function(t,e,r,n){return n&&n.enumerable?t[e]=r:$i(t,e,r),t},eo=$e,ro=function(t,e,r){return eo.f(t,e,r)},no={},io=he;no.f=io;var oo,so,ao,co=$,uo=te,Eo=no,lo=$e.f,po=function(t){var e=co.Symbol||(co.Symbol={});uo(e,t)||lo(e,t,{value:Eo.f(t)})},ho=v,_o=it,fo=he,To=to,Ro=function(){var t=_o("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=fo("toPrimitive");e&&!e[n]&&To(e,n,(function(t){return ho(r,this)}),{arity:1})},Oo=sn,Ao=Zr?{}.toString:function(){return"[object "+Oo(this)+"]"},mo=Zr,So=$e.f,Io=Rr,go=te,No=Ao,bo=he("toStringTag"),Co=function(t,e,r,n){var i=r?t:t&&t.prototype;i&&(go(i,bo)||So(i,bo,{configurable:!0,value:e}),n&&!mo&&Io(i,"toString",No))},yo=b,wo=o.WeakMap,Lo=yo(wo)&&/native code/.test(String(wo)),vo=o,Po=Z,Do=Rr,Uo=te,Mo=Yt,xo=Ci,ko=si,Fo="Object already initialized",Vo=vo.TypeError,Bo=vo.WeakMap;if(Lo||Mo.state){var Wo=Mo.state||(Mo.state=new Bo);Wo.get=Wo.get,Wo.has=Wo.has,Wo.set=Wo.set,oo=function(t,e){if(Wo.has(t))throw new Vo(Fo);return e.facade=t,Wo.set(t,e),e},so=function(t){return Wo.get(t)||{}},ao=function(t){return Wo.has(t)}}else{var Go=xo("state");ko[Go]=!0,oo=function(t,e){if(Uo(t,Go))throw new Vo(Fo);return e.facade=t,Do(t,Go,e),e},so=function(t){return Uo(t,Go)?t[Go]:{}},ao=function(t){return Uo(t,Go)}}var jo={set:oo,get:so,has:ao,enforce:function(t){return ao(t)?so(t):oo(t,{})},getterFor:function(t){return function(e){var r;if(!Po(e)||(r=so(e)).type!==t)throw new Vo("Incompatible receiver, "+t+" required");return r}}},Ho=Ze,Ko=j,Yo=Qt,zo=Yr,Jo=Ln,Xo=T([].push),qo=function(t){var e=1===t,r=2===t,n=3===t,i=4===t,o=6===t,s=7===t,a=5===t||o;return function(c,u,E,l){for(var p,d,h=Yo(c),_=Ko(h),f=zo(_),T=Ho(u,E),R=0,O=l||Jo,A=e?O(c,f):r||s?O(c,0):void 0;f>R;R++)if((a||R in _)&&(d=T(p=_[R],R,h),t))if(e)A[R]=d;else if(d)switch(t){case 3:return!0;case 5:return p;case 6:return R;case 2:Xo(A,p)}else switch(t){case 4:return!1;case 7:Xo(A,p)}return o?-1:n||i?i:A}},Qo={forEach:qo(0),map:qo(1),filter:qo(2),some:qo(3),every:qo(4),find:qo(5),findIndex:qo(6),filterReject:qo(7)},Zo=Lr,$o=o,ts=v,es=T,rs=y,ns=Ot,is=s,os=te,ss=ot,as=ir,cs=q,us=ge,Es=qn,ls=F,ps=Wi,ds=fi,hs=Gi,_s=Ki,fs=Zi,Ts=C,Rs=$e,Os=Qn,As=P,ms=to,Ss=ro,Is=Jt,gs=si,Ns=oe,bs=he,Cs=no,ys=po,ws=Ro,Ls=Co,vs=jo,Ps=Qo.forEach,Ds=Ci("hidden"),Us="Symbol",Ms="prototype",xs=vs.set,ks=vs.getterFor(Us),Fs=Object[Ms],Vs=$o.Symbol,Bs=Vs&&Vs[Ms],Ws=$o.RangeError,Gs=$o.TypeError,js=$o.QObject,Hs=Ts.f,Ks=Rs.f,Ys=_s.f,zs=As.f,Js=es([].push),Xs=Is("symbols"),qs=Is("op-symbols"),Qs=Is("wks"),Zs=!js||!js[Ms]||!js[Ms].findChild,$s=function(t,e,r){var n=Hs(Fs,e);n&&delete Fs[e],Ks(t,e,r),n&&t!==Fs&&Ks(Fs,e,n)},ta=rs&&is((function(){return 7!==ps(Ks({},"a",{get:function(){return Ks(this,"a",{value:7}).a}})).a}))?$s:Ks,ea=function(t,e){var r=Xs[t]=ps(Bs);return xs(r,{type:Us,tag:t,description:e}),rs||(r.description=e),r},ra=function(t,e,r){t===Fs&&ra(qs,e,r),as(t);var n=us(e);return as(r),os(Xs,n)?(r.enumerable?(os(t,Ds)&&t[Ds][n]&&(t[Ds][n]=!1),r=ps(r,{enumerable:ls(0,!1)})):(os(t,Ds)||Ks(t,Ds,ls(1,ps(null))),t[Ds][n]=!0),ta(t,n,r)):Ks(t,n,r)},na=function(t,e){as(t);var r=cs(e),n=ds(r).concat(aa(r));return Ps(n,(function(e){rs&&!ts(ia,r,e)||ra(t,e,r[e])})),t},ia=function(t){var e=us(t),r=ts(zs,this,e);return!(this===Fs&&os(Xs,e)&&!os(qs,e))&&(!(r||!os(this,e)||!os(Xs,e)||os(this,Ds)&&this[Ds][e])||r)},oa=function(t,e){var r=cs(t),n=us(e);if(r!==Fs||!os(Xs,n)||os(qs,n)){var i=Hs(r,n);return!i||!os(Xs,n)||os(r,Ds)&&r[Ds][n]||(i.enumerable=!0),i}},sa=function(t){var e=Ys(cs(t)),r=[];return Ps(e,(function(t){os(Xs,t)||os(gs,t)||Js(r,t)})),r},aa=function(t){var e=t===Fs,r=Ys(e?qs:cs(t)),n=[];return Ps(r,(function(t){!os(Xs,t)||e&&!os(Fs,t)||Js(n,Xs[t])})),n};ns||(Vs=function(){if(ss(Bs,this))throw new Gs("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?Es(arguments[0]):void 0,e=Ns(t),r=function(t){var n=void 0===this?$o:this;n===Fs&&ts(r,qs,t),os(n,Ds)&&os(n[Ds],e)&&(n[Ds][e]=!1);var i=ls(1,t);try{ta(n,e,i)}catch(t){if(!(t instanceof Ws))throw t;$s(n,e,i)}};return rs&&Zs&&ta(Fs,e,{configurable:!0,set:r}),ea(e,t)},ms(Bs=Vs[Ms],"toString",(function(){return ks(this).tag})),ms(Vs,"withoutSetter",(function(t){return ea(Ns(t),t)})),As.f=ia,Rs.f=ra,Os.f=na,Ts.f=oa,hs.f=_s.f=sa,fs.f=aa,Cs.f=function(t){return ea(bs(t),t)},rs&&Ss(Bs,"description",{configurable:!0,get:function(){return ks(this).description}})),Zo({global:!0,constructor:!0,wrap:!0,forced:!ns,sham:!ns},{Symbol:Vs}),Ps(ds(Qs),(function(t){ys(t)})),Zo({target:Us,stat:!0,forced:!ns},{useSetter:function(){Zs=!0},useSimple:function(){Zs=!1}}),Zo({target:"Object",stat:!0,forced:!ns,sham:!rs},{create:function(t,e){return void 0===e?ps(t):na(ps(t),e)},defineProperty:ra,defineProperties:na,getOwnPropertyDescriptor:oa}),Zo({target:"Object",stat:!0,forced:!ns},{getOwnPropertyNames:sa}),ws(),Ls(Vs,Us),gs[Ds]=!0;var ca=Ot&&!!Symbol.for&&!!Symbol.keyFor,ua=Lr,Ea=it,la=te,pa=qn,da=Jt,ha=ca,_a=da("string-to-symbol-registry"),fa=da("symbol-to-string-registry");ua({target:"Symbol",stat:!0,forced:!ha},{for:function(t){var e=pa(t);if(la(_a,e))return _a[e];var r=Ea("Symbol")(e);return _a[e]=r,fa[r]=e,r}});var Ta=Lr,Ra=te,Oa=Nt,Aa=Ct,ma=ca,Sa=Jt("symbol-to-string-registry");Ta({target:"Symbol",stat:!0,forced:!ma},{keyFor:function(t){if(!Oa(t))throw new TypeError(Aa(t)+" is not a symbol");if(Ra(Sa,t))return Sa[t]}});var Ia=Fr,ga=b,Na=m,ba=qn,Ca=T([].push),ya=Lr,wa=it,La=p,va=v,Pa=T,Da=s,Ua=b,Ma=Nt,xa=Yi,ka=function(t){if(ga(t))return t;if(Ia(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];"string"==typeof i?Ca(r,i):"number"!=typeof i&&"Number"!==Na(i)&&"String"!==Na(i)||Ca(r,ba(i))}var o=r.length,s=!0;return function(t,e){if(s)return s=!1,e;if(Ia(this))return e;for(var n=0;n<o;n++)if(r[n]===t)return e}}},Fa=Ot,Va=String,Ba=wa("JSON","stringify"),Wa=Pa(/./.exec),Ga=Pa("".charAt),ja=Pa("".charCodeAt),Ha=Pa("".replace),Ka=Pa(1..toString),Ya=/[\uD800-\uDFFF]/g,za=/^[\uD800-\uDBFF]$/,Ja=/^[\uDC00-\uDFFF]$/,Xa=!Fa||Da((function(){var t=wa("Symbol")("stringify detection");return"[null]"!==Ba([t])||"{}"!==Ba({a:t})||"{}"!==Ba(Object(t))})),qa=Da((function(){return'"\\udf06\\ud834"'!==Ba("\udf06\ud834")||'"\\udead"'!==Ba("\udead")})),Qa=function(t,e){var r=xa(arguments),n=ka(e);if(Ua(n)||void 0!==t&&!Ma(t))return r[1]=function(t,e){if(Ua(n)&&(e=va(n,this,Va(t),e)),!Ma(e))return e},La(Ba,null,r)},Za=function(t,e,r){var n=Ga(r,e-1),i=Ga(r,e+1);return Wa(za,t)&&!Wa(Ja,i)||Wa(Ja,t)&&!Wa(za,n)?"\\u"+Ka(ja(t,0),16):t};Ba&&ya({target:"JSON",stat:!0,arity:3,forced:Xa||qa},{stringify:function(t,e,r){var n=xa(arguments),i=La(Xa?Qa:Ba,null,n);return qa&&"string"==typeof i?Ha(i,Ya,Za):i}});var $a=Zi,tc=Qt;Lr({target:"Object",stat:!0,forced:!Ot||s((function(){$a.f(1)}))},{getOwnPropertySymbols:function(t){var e=$a.f;return e?e(tc(t)):[]}}),po("asyncIterator"),po("hasInstance"),po("isConcatSpreadable"),po("iterator"),po("match"),po("matchAll"),po("replace"),po("search"),po("species"),po("split");var ec=Ro;po("toPrimitive"),ec();var rc=it,nc=Co;po("toStringTag"),nc(rc("Symbol"),"Symbol"),po("unscopables"),Co(o.JSON,"JSON",!0);var ic,oc,sc,ac=$.Symbol,cc={},uc=y,Ec=te,lc=Function.prototype,pc=uc&&Object.getOwnPropertyDescriptor,dc=Ec(lc,"name"),hc={EXISTS:dc,PROPER:dc&&"something"===function(){}.name,CONFIGURABLE:dc&&(!uc||uc&&pc(lc,"name").configurable)},_c=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),fc=te,Tc=b,Rc=Qt,Oc=_c,Ac=Ci("IE_PROTO"),mc=Object,Sc=mc.prototype,Ic=Oc?mc.getPrototypeOf:function(t){var e=Rc(t);if(fc(e,Ac))return e[Ac];var r=e.constructor;return Tc(r)&&e instanceof r?r.prototype:e instanceof mc?Sc:null},gc=s,Nc=b,bc=Z,Cc=Wi,yc=Ic,wc=to,Lc=he("iterator"),vc=!1;[].keys&&("next"in(sc=[].keys())?(oc=yc(yc(sc)))!==Object.prototype&&(ic=oc):vc=!0);var Pc=!bc(ic)||gc((function(){var t={};return ic[Lc].call(t)!==t}));Nc((ic=Pc?{}:Cc(ic))[Lc])||wc(ic,Lc,(function(){return this}));var Dc={IteratorPrototype:ic,BUGGY_SAFARI_ITERATORS:vc},Uc=Dc.IteratorPrototype,Mc=Wi,xc=F,kc=Co,Fc=cc,Vc=function(){return this},Bc=T,Wc=vt,Gc=Z,jc=function(t){return Gc(t)||null===t},Hc=String,Kc=TypeError,Yc=function(t,e,r){try{return Bc(Wc(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},zc=Z,Jc=z,Xc=function(t){if(jc(t))return t;throw new Kc("Can't set "+Hc(t)+" as a prototype")},qc=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Yc(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Jc(r),Xc(n),zc(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0),Qc=Lr,Zc=v,$c=hc,tu=function(t,e,r,n){var i=e+" Iterator";return t.prototype=Mc(Uc,{next:xc(+!n,r)}),kc(t,i,!1,!0),Fc[i]=Vc,t},eu=Ic,ru=Co,nu=to,iu=cc,ou=Dc,su=$c.PROPER,au=ou.BUGGY_SAFARI_ITERATORS,cu=he("iterator"),uu="keys",Eu="values",lu="entries",pu=function(){return this},du=function(t,e,r,n,i,o,s){tu(r,e,n);var a,c,u,E=function(t){if(t===i&&_)return _;if(!au&&t&&t in d)return d[t];switch(t){case uu:case Eu:case lu:return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",p=!1,d=t.prototype,h=d[cu]||d["@@iterator"]||i&&d[i],_=!au&&h||E(i),f="Array"===e&&d.entries||h;if(f&&(a=eu(f.call(new t)))!==Object.prototype&&a.next&&(ru(a,l,!0,!0),iu[l]=pu),su&&i===Eu&&h&&h.name!==Eu&&(p=!0,_=function(){return Zc(h,this)}),i)if(c={values:E(Eu),keys:o?_:E(uu),entries:E(lu)},s)for(u in c)(au||p||!(u in d))&&nu(d,u,c[u]);else Qc({target:e,proto:!0,forced:au||p},c);return s&&d[cu]!==_&&nu(d,cu,_,{name:i}),iu[e]=_,c},hu=function(t,e){return{value:t,done:e}},_u=q,fu=cc,Tu=jo;$e.f;var Ru=du,Ou=hu,Au="Array Iterator",mu=Tu.set,Su=Tu.getterFor(Au);Ru(Array,"Array",(function(t,e){mu(this,{type:Au,target:_u(t),index:0,kind:e})}),(function(){var t=Su(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,Ou(void 0,!0);switch(t.kind){case"keys":return Ou(r,!1);case"values":return Ou(e[r],!1)}return Ou([r,e[r]],!1)}),"values"),fu.Arguments=fu.Array;var Iu={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gu=o,Nu=Co,bu=cc;for(var Cu in Iu)Nu(gu[Cu],Cu),bu[Cu]=bu.Array;var yu=ac,wu=he,Lu=$e.f,vu=wu("metadata"),Pu=Function.prototype;void 0===Pu[vu]&&Lu(Pu,vu,{value:null}),po("asyncDispose"),po("dispose"),po("metadata");var Du=yu,Uu=T,Mu=it("Symbol"),xu=Mu.keyFor,ku=Uu(Mu.prototype.valueOf),Fu=Mu.isRegisteredSymbol||function(t){try{return void 0!==xu(ku(t))}catch(t){return!1}};Lr({target:"Symbol",stat:!0},{isRegisteredSymbol:Fu});for(var Vu=Jt,Bu=it,Wu=T,Gu=Nt,ju=he,Hu=Bu("Symbol"),Ku=Hu.isWellKnownSymbol,Yu=Bu("Object","getOwnPropertyNames"),zu=Wu(Hu.prototype.valueOf),Ju=Vu("wks"),Xu=0,qu=Yu(Hu),Qu=qu.length;Xu<Qu;Xu++)try{var Zu=qu[Xu];Gu(Hu[Zu])&&ju(Zu)}catch(t){}var $u=function(t){if(Ku&&Ku(t))return!0;try{for(var e=zu(t),r=0,n=Yu(Ju),i=n.length;r<i;r++)if(Ju[n[r]]==e)return!0}catch(t){}return!1};Lr({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:$u}),po("customMatcher"),po("observable"),Lr({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:Fu}),Lr({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:$u}),po("matcher"),po("metadataKey"),po("patternMatch"),po("replaceAll");var tE=r(Du),eE=T,rE=Gr,nE=qn,iE=z,oE=eE("".charAt),sE=eE("".charCodeAt),aE=eE("".slice),cE=function(t){return function(e,r){var n,i,o=nE(iE(e)),s=rE(r),a=o.length;return s<0||s>=a?t?"":void 0:(n=sE(o,s))<55296||n>56319||s+1===a||(i=sE(o,s+1))<56320||i>57343?t?oE(o,s):n:t?aE(o,s,s+2):i-56320+(n-55296<<10)+65536}},uE={codeAt:cE(!1),charAt:cE(!0)}.charAt,EE=qn,lE=jo,pE=du,dE=hu,hE="String Iterator",_E=lE.set,fE=lE.getterFor(hE);pE(String,"String",(function(t){_E(this,{type:hE,string:EE(t),index:0})}),(function(){var t,e=fE(this),r=e.string,n=e.index;return n>=r.length?dE(void 0,!0):(t=uE(r,n),e.index+=t.length,dE(t,!1))}));var TE=r(no.f("iterator"));function RE(t){return RE="function"==typeof tE&&"symbol"==typeof TE?function(t){return typeof t}:function(t){return t&&"function"==typeof tE&&t.constructor===tE&&t!==tE.prototype?"symbol":typeof t},RE(t)}var OE=r(no.f("toPrimitive"));function AE(t){var e=function(t,e){if("object"!==RE(t)||null===t)return t;var r=t[OE];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==RE(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===RE(e)?e:String(e)}function mE(t,e,r){return(e=AE(e))in t?xr(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var SE=o,IE=$,gE=function(t,e){var r=IE[t+"Prototype"],n=r&&r[e];if(n)return n;var i=SE[t],o=i&&i.prototype;return o&&o[e]},NE=gE("Array","keys"),bE=sn,CE=te,yE=ot,wE=NE,LE=Array.prototype,vE={DOMTokenList:!0,NodeList:!0},PE=r((function(t){var e=t.keys;return t===LE||yE(LE,t)&&e===LE.keys||CE(vE,bE(t))?wE:e})),DE=oi.includes;Lr({target:"Array",proto:!0,forced:s((function(){return!Array(1).includes()}))},{includes:function(t){return DE(this,t,arguments.length>1?arguments[1]:void 0)}});var UE=gE("Array","includes"),ME=Z,xE=m,kE=he("match"),FE=function(t){var e;return ME(t)&&(void 0!==(e=t[kE])?!!e:"RegExp"===xE(t))},VE=TypeError,BE=he("match"),WE=Lr,GE=function(t){if(FE(t))throw new VE("The method doesn't accept regular expressions");return t},jE=z,HE=qn,KE=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[BE]=!1,"/./"[t](e)}catch(t){}}return!1},YE=T("".indexOf);WE({target:"String",proto:!0,forced:!KE("includes")},{includes:function(t){return!!~YE(HE(jE(this)),HE(GE(t)),arguments.length>1?arguments[1]:void 0)}});var zE=gE("String","includes"),JE=ot,XE=UE,qE=zE,QE=Array.prototype,ZE=String.prototype,$E=r((function(t){var e=t.includes;return t===QE||JE(QE,t)&&e===QE.includes?XE:"string"==typeof t||t===ZE||JE(ZE,t)&&e===ZE.includes?qE:e})),tl=Ct,el=TypeError,rl=Yi,nl=Math.floor,il=function(t,e){var r=t.length;if(r<8)for(var n,i,o=1;o<r;){for(i=o,n=t[o];i&&e(t[i-1],n)>0;)t[i]=t[--i];i!==o++&&(t[i]=n)}else for(var s=nl(r/2),a=il(rl(t,0,s),e),c=il(rl(t,s),e),u=a.length,E=c.length,l=0,p=0;l<u||p<E;)t[l+p]=l<u&&p<E?e(a[l],c[p])<=0?a[l++]:c[p++]:l<u?a[l++]:c[p++];return t},ol=il,sl=s,al=ct.match(/firefox\/(\d+)/i),cl=!!al&&+al[1],ul=/MSIE|Trident/.test(ct),El=ct.match(/AppleWebKit\/(\d+)\./),ll=!!El&&+El[1],pl=Lr,dl=T,hl=vt,_l=Qt,fl=Yr,Tl=function(t,e){if(!delete t[e])throw new el("Cannot delete property "+tl(e)+" of "+tl(t))},Rl=qn,Ol=s,Al=ol,ml=function(t,e){var r=[][t];return!!r&&sl((function(){r.call(null,e||function(){return 1},1)}))},Sl=cl,Il=ul,gl=_t,Nl=ll,bl=[],Cl=dl(bl.sort),yl=dl(bl.push),wl=Ol((function(){bl.sort(void 0)})),Ll=Ol((function(){bl.sort(null)})),vl=ml("sort"),Pl=!Ol((function(){if(gl)return gl<70;if(!(Sl&&Sl>3)){if(Il)return!0;if(Nl)return Nl<603;var t,e,r,n,i="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)bl.push({k:e+n,v:r})}for(bl.sort((function(t,e){return e.v-t.v})),n=0;n<bl.length;n++)e=bl[n].k.charAt(0),i.charAt(i.length-1)!==e&&(i+=e);return"DGBEFHACIJK"!==i}}));pl({target:"Array",proto:!0,forced:wl||!Ll||!vl||!Pl},{sort:function(t){void 0!==t&&hl(t);var e=_l(this);if(Pl)return void 0===t?Cl(e):Cl(e,t);var r,n,i=[],o=fl(e);for(n=0;n<o;n++)n in e&&yl(i,e[n]);for(Al(i,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:Rl(e)>Rl(r)?1:-1}}(t)),r=fl(i),n=0;n<r;)e[n]=i[n++];for(;n<o;)Tl(e,n++);return e}});var Dl=gE("Array","sort"),Ul=ot,Ml=Dl,xl=Array.prototype,kl=r((function(t){var e=t.sort;return t===xl||Ul(xl,t)&&e===xl.sort?Ml:e})),Fl=it,Vl=Gi,Bl=Zi,Wl=ir,Gl=T([].concat),jl=Fl("Reflect","ownKeys")||function(t){var e=Vl.f(Wl(t)),r=Bl.f;return r?Gl(e,r(t)):e},Hl=te,Kl=jl,Yl=C,zl=$e,Jl=Z,Xl=Rr,ql=Error,Ql=T("".replace),Zl=String(new ql("zxcasd").stack),$l=/\n\s*at [^:]*:[^\n]*/,tp=$l.test(Zl),ep=F,rp=!s((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",ep(1,7)),7!==t.stack)})),np=Rr,ip=function(t,e){if(tp&&"string"==typeof t&&!ql.prepareStackTrace)for(;e--;)t=Ql(t,$l,"");return t},op=rp,sp=Error.captureStackTrace,ap=cc,cp=he("iterator"),up=Array.prototype,Ep=sn,lp=Ut,pp=H,dp=cc,hp=he("iterator"),_p=function(t){if(!pp(t))return lp(t,hp)||lp(t,"@@iterator")||dp[Ep(t)]},fp=v,Tp=vt,Rp=ir,Op=Ct,Ap=_p,mp=TypeError,Sp=v,Ip=ir,gp=Ut,Np=Ze,bp=v,Cp=ir,yp=Ct,wp=function(t){return void 0!==t&&(ap.Array===t||up[cp]===t)},Lp=Yr,vp=ot,Pp=function(t,e){var r=arguments.length<2?Ap(t):e;if(Tp(r))return Rp(fp(r,t));throw new mp(Op(t)+" is not iterable")},Dp=_p,Up=function(t,e,r){var n,i;Ip(t);try{if(!(n=gp(t,"return"))){if("throw"===e)throw r;return r}n=Sp(n,t)}catch(t){i=!0,n=t}if("throw"===e)throw r;if(i)throw n;return Ip(n),r},Mp=TypeError,xp=function(t,e){this.stopped=t,this.result=e},kp=xp.prototype,Fp=function(t,e,r){var n,i,o,s,a,c,u,E=r&&r.that,l=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_RECORD),d=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),_=Np(e,E),f=function(t){return n&&Up(n,"normal",t),new xp(!0,t)},T=function(t){return l?(Cp(t),h?_(t[0],t[1],f):_(t[0],t[1])):h?_(t,f):_(t)};if(p)n=t.iterator;else if(d)n=t;else{if(!(i=Dp(t)))throw new Mp(yp(t)+" is not iterable");if(wp(i)){for(o=0,s=Lp(t);s>o;o++)if((a=T(t[o]))&&vp(kp,a))return a;return new xp(!1)}n=Pp(t,i)}for(c=p?t.next:n.next;!(u=bp(c,n)).done;){try{a=T(u.value)}catch(t){Up(n,"throw",t)}if("object"==typeof a&&a&&vp(kp,a))return a}return new xp(!1)},Vp=qn,Bp=Lr,Wp=ot,Gp=Ic,jp=qc,Hp=function(t,e,r){for(var n=Kl(e),i=zl.f,o=Yl.f,s=0;s<n.length;s++){var a=n[s];Hl(t,a)||r&&Hl(r,a)||i(t,a,o(e,a))}},Kp=Wi,Yp=Rr,zp=F,Jp=function(t,e){Jl(e)&&"cause"in e&&Xl(t,"cause",e.cause)},Xp=function(t,e,r,n){op&&(sp?sp(t,e):np(t,"stack",ip(r,n)))},qp=Fp,Qp=function(t,e){return void 0===t?arguments.length<2?"":e:Vp(t)},Zp=he("toStringTag"),$p=Error,td=[].push,ed=function(t,e){var r,n=Wp(rd,this);jp?r=jp(new $p,n?Gp(this):rd):(r=n?this:Kp(rd),Yp(r,Zp,"Error")),void 0!==e&&Yp(r,"message",Qp(e)),Xp(r,ed,r.stack,1),arguments.length>2&&Jp(r,arguments[2]);var i=[];return qp(t,td,{that:i}),Yp(r,"errors",i),r};jp?jp(ed,$p):Hp(ed,$p,{name:!0});var rd=ed.prototype=Kp($p.prototype,{constructor:zp(1,ed),message:zp(1,""),name:zp(1,"AggregateError")});Bp({global:!0,constructor:!0,arity:2},{AggregateError:ed});var nd,id,od,sd,ad=o,cd=ct,ud=m,Ed=function(t){return cd.slice(0,t.length)===t},ld=Ed("Bun/")?"BUN":Ed("Cloudflare-Workers")?"CLOUDFLARE":Ed("Deno/")?"DENO":Ed("Node.js/")?"NODE":ad.Bun&&"string"==typeof Bun.version?"BUN":ad.Deno&&"object"==typeof Deno.version?"DENO":"process"===ud(ad.process)?"NODE":ad.window&&ad.document?"BROWSER":"REST",pd="NODE"===ld,dd=it,hd=ro,_d=y,fd=he("species"),Td=ot,Rd=TypeError,Od=In,Ad=Ct,md=TypeError,Sd=ir,Id=function(t){if(Od(t))return t;throw new md(Ad(t)+" is not a constructor")},gd=H,Nd=he("species"),bd=function(t,e){var r,n=Sd(t).constructor;return void 0===n||gd(r=Sd(n)[Nd])?e:Id(r)},Cd=TypeError,yd=/(?:ipad|iphone|ipod).*applewebkit/i.test(ct),wd=o,Ld=p,vd=Ze,Pd=b,Dd=te,Ud=s,Md=gi,xd=Yi,kd=ye,Fd=function(t,e){if(t<e)throw new Cd("Not enough arguments");return t},Vd=yd,Bd=pd,Wd=wd.setImmediate,Gd=wd.clearImmediate,jd=wd.process,Hd=wd.Dispatch,Kd=wd.Function,Yd=wd.MessageChannel,zd=wd.String,Jd=0,Xd={},qd="onreadystatechange";Ud((function(){nd=wd.location}));var Qd=function(t){if(Dd(Xd,t)){var e=Xd[t];delete Xd[t],e()}},Zd=function(t){return function(){Qd(t)}},$d=function(t){Qd(t.data)},th=function(t){wd.postMessage(zd(t),nd.protocol+"//"+nd.host)};Wd&&Gd||(Wd=function(t){Fd(arguments.length,1);var e=Pd(t)?t:Kd(t),r=xd(arguments,1);return Xd[++Jd]=function(){Ld(e,void 0,r)},id(Jd),Jd},Gd=function(t){delete Xd[t]},Bd?id=function(t){jd.nextTick(Zd(t))}:Hd&&Hd.now?id=function(t){Hd.now(Zd(t))}:Yd&&!Vd?(sd=(od=new Yd).port2,od.port1.onmessage=$d,id=vd(sd.postMessage,sd)):wd.addEventListener&&Pd(wd.postMessage)&&!wd.importScripts&&nd&&"file:"!==nd.protocol&&!Ud(th)?(id=th,wd.addEventListener("message",$d,!1)):id=qd in kd("script")?function(t){Md.appendChild(kd("script"))[qd]=function(){Md.removeChild(this),Qd(t)}}:function(t){setTimeout(Zd(t),0)});var eh={set:Wd,clear:Gd},rh=o,nh=y,ih=Object.getOwnPropertyDescriptor,oh=function(){this.head=null,this.tail=null};oh.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var sh,ah,ch,uh,Eh,lh=oh,ph=/ipad|iphone|ipod/i.test(ct)&&"undefined"!=typeof Pebble,dh=/web0s(?!.*chrome)/i.test(ct),hh=o,_h=function(t){if(!nh)return rh[t];var e=ih(rh,t);return e&&e.value},fh=Ze,Th=eh.set,Rh=lh,Oh=yd,Ah=ph,mh=dh,Sh=pd,Ih=hh.MutationObserver||hh.WebKitMutationObserver,gh=hh.document,Nh=hh.process,bh=hh.Promise,Ch=_h("queueMicrotask");if(!Ch){var yh=new Rh,wh=function(){var t,e;for(Sh&&(t=Nh.domain)&&t.exit();e=yh.get();)try{e()}catch(t){throw yh.head&&sh(),t}t&&t.enter()};Oh||Sh||mh||!Ih||!gh?!Ah&&bh&&bh.resolve?((uh=bh.resolve(void 0)).constructor=bh,Eh=fh(uh.then,uh),sh=function(){Eh(wh)}):Sh?sh=function(){Nh.nextTick(wh)}:(Th=fh(Th,hh),sh=function(){Th(wh)}):(ah=!0,ch=gh.createTextNode(""),new Ih(wh).observe(ch,{characterData:!0}),sh=function(){ch.data=ah=!ah}),Ch=function(t){yh.head||sh(),yh.add(t)}}var Lh=Ch,vh=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Ph=o.Promise,Dh=o,Uh=Ph,Mh=b,xh=Je,kh=En,Fh=he,Vh=ld,Bh=_t,Wh=Uh&&Uh.prototype,Gh=Fh("species"),jh=!1,Hh=Mh(Dh.PromiseRejectionEvent),Kh=xh("Promise",(function(){var t=kh(Uh),e=t!==String(Uh);if(!e&&66===Bh)return!0;if(!Wh.catch||!Wh.finally)return!0;if(!Bh||Bh<51||!/native code/.test(t)){var r=new Uh((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[Gh]=n,!(jh=r.then((function(){}))instanceof n))return!0}return!(e||"BROWSER"!==Vh&&"DENO"!==Vh||Hh)})),Yh={CONSTRUCTOR:Kh,REJECTION_EVENT:Hh,SUBCLASSING:jh},zh={},Jh=vt,Xh=TypeError,qh=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw new Xh("Bad Promise constructor");e=t,r=n})),this.resolve=Jh(e),this.reject=Jh(r)};zh.f=function(t){return new qh(t)};var Qh,Zh,$h=Lr,t_=pd,e_=o,r_=v,n_=to,i_=Co,o_=function(t){var e=dd(t);_d&&e&&!e[fd]&&hd(e,fd,{configurable:!0,get:function(){return this}})},s_=vt,a_=b,c_=Z,u_=function(t,e){if(Td(e,t))return t;throw new Rd("Incorrect invocation")},E_=bd,l_=eh.set,p_=Lh,d_=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}},h_=vh,__=lh,f_=jo,T_=Ph,R_=Yh,O_=zh,A_="Promise",m_=R_.CONSTRUCTOR,S_=R_.REJECTION_EVENT,I_=f_.getterFor(A_),g_=f_.set,N_=T_&&T_.prototype,b_=T_,C_=N_,y_=e_.TypeError,w_=e_.document,L_=e_.process,v_=O_.f,P_=v_,D_=!!(w_&&w_.createEvent&&e_.dispatchEvent),U_="unhandledrejection",M_=function(t){var e;return!(!c_(t)||!a_(e=t.then))&&e},x_=function(t,e){var r,n,i,o=e.value,s=1===e.state,a=s?t.ok:t.fail,c=t.resolve,u=t.reject,E=t.domain;try{a?(s||(2===e.rejection&&W_(e),e.rejection=1),!0===a?r=o:(E&&E.enter(),r=a(o),E&&(E.exit(),i=!0)),r===t.promise?u(new y_("Promise-chain cycle")):(n=M_(r))?r_(n,r,c,u):c(r)):u(o)}catch(t){E&&!i&&E.exit(),u(t)}},k_=function(t,e){t.notified||(t.notified=!0,p_((function(){for(var r,n=t.reactions;r=n.get();)x_(r,t);t.notified=!1,e&&!t.rejection&&V_(t)})))},F_=function(t,e,r){var n,i;D_?((n=w_.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),e_.dispatchEvent(n)):n={promise:e,reason:r},!S_&&(i=e_["on"+t])?i(n):t===U_&&d_("Unhandled promise rejection",r)},V_=function(t){r_(l_,e_,(function(){var e,r=t.facade,n=t.value;if(B_(t)&&(e=h_((function(){t_?L_.emit("unhandledRejection",n,r):F_(U_,r,n)})),t.rejection=t_||B_(t)?2:1,e.error))throw e.value}))},B_=function(t){return 1!==t.rejection&&!t.parent},W_=function(t){r_(l_,e_,(function(){var e=t.facade;t_?L_.emit("rejectionHandled",e):F_("rejectionhandled",e,t.value)}))},G_=function(t,e,r){return function(n){t(e,n,r)}},j_=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,k_(t,!0))},H_=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new y_("Promise can't be resolved itself");var n=M_(e);n?p_((function(){var r={done:!1};try{r_(n,e,G_(H_,r,t),G_(j_,r,t))}catch(e){j_(r,e,t)}})):(t.value=e,t.state=1,k_(t,!1))}catch(e){j_({done:!1},e,t)}}};m_&&(C_=(b_=function(t){u_(this,C_),s_(t),r_(Qh,this);var e=I_(this);try{t(G_(H_,e),G_(j_,e))}catch(t){j_(e,t)}}).prototype,(Qh=function(t){g_(this,{type:A_,done:!1,notified:!1,parent:!1,reactions:new __,rejection:!1,state:0,value:null})}).prototype=n_(C_,"then",(function(t,e){var r=I_(this),n=v_(E_(this,b_));return r.parent=!0,n.ok=!a_(t)||t,n.fail=a_(e)&&e,n.domain=t_?L_.domain:void 0,0===r.state?r.reactions.add(n):p_((function(){x_(n,r)})),n.promise})),Zh=function(){var t=new Qh,e=I_(t);this.promise=t,this.resolve=G_(H_,e),this.reject=G_(j_,e)},O_.f=v_=function(t){return t===b_||undefined===t?new Zh(t):P_(t)}),$h({global:!0,constructor:!0,wrap:!0,forced:m_},{Promise:b_}),i_(b_,A_,!1,!0),o_(A_);var K_=he("iterator"),Y_=!1;try{var z_=0,J_={next:function(){return{done:!!z_++}},return:function(){Y_=!0}};J_[K_]=function(){return this},Array.from(J_,(function(){throw 2}))}catch(t){}var X_=Ph,q_=function(t,e){try{if(!e&&!Y_)return!1}catch(t){return!1}var r=!1;try{var n={};n[K_]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Q_=Yh.CONSTRUCTOR||!q_((function(t){X_.all(t).then(void 0,(function(){}))})),Z_=v,$_=vt,tf=zh,ef=vh,rf=Fp;Lr({target:"Promise",stat:!0,forced:Q_},{all:function(t){var e=this,r=tf.f(e),n=r.resolve,i=r.reject,o=ef((function(){var r=$_(e.resolve),o=[],s=0,a=1;rf(t,(function(t){var c=s++,u=!1;a++,Z_(r,e,t).then((function(t){u||(u=!0,o[c]=t,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise}});var nf=Lr,of=Yh.CONSTRUCTOR;Ph&&Ph.prototype,nf({target:"Promise",proto:!0,forced:of,real:!0},{catch:function(t){return this.then(void 0,t)}});var sf=v,af=vt,cf=zh,uf=vh,Ef=Fp;Lr({target:"Promise",stat:!0,forced:Q_},{race:function(t){var e=this,r=cf.f(e),n=r.reject,i=uf((function(){var i=af(e.resolve);Ef(t,(function(t){sf(i,e,t).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}});var lf=zh;Lr({target:"Promise",stat:!0,forced:Yh.CONSTRUCTOR},{reject:function(t){var e=lf.f(this);return(0,e.reject)(t),e.promise}});var pf=ir,df=Z,hf=zh,_f=function(t,e){if(pf(t),df(e)&&e.constructor===t)return e;var r=hf.f(t);return(0,r.resolve)(e),r.promise},ff=Lr,Tf=Ph,Rf=Yh.CONSTRUCTOR,Of=_f,Af=it("Promise"),mf=!Rf;ff({target:"Promise",stat:!0,forced:true},{resolve:function(t){return Of(mf&&this===Af?Tf:this,t)}});var Sf=v,If=vt,gf=zh,Nf=vh,bf=Fp;Lr({target:"Promise",stat:!0,forced:Q_},{allSettled:function(t){var e=this,r=gf.f(e),n=r.resolve,i=r.reject,o=Nf((function(){var r=If(e.resolve),i=[],o=0,s=1;bf(t,(function(t){var a=o++,c=!1;s++,Sf(r,e,t).then((function(t){c||(c=!0,i[a]={status:"fulfilled",value:t},--s||n(i))}),(function(t){c||(c=!0,i[a]={status:"rejected",reason:t},--s||n(i))}))})),--s||n(i)}));return o.error&&i(o.value),r.promise}});var Cf=v,yf=vt,wf=it,Lf=zh,vf=vh,Pf=Fp,Df="No one promise resolved";Lr({target:"Promise",stat:!0,forced:Q_},{any:function(t){var e=this,r=wf("AggregateError"),n=Lf.f(e),i=n.resolve,o=n.reject,s=vf((function(){var n=yf(e.resolve),s=[],a=0,c=1,u=!1;Pf(t,(function(t){var E=a++,l=!1;c++,Cf(n,e,t).then((function(t){l||u||(u=!0,i(t))}),(function(t){l||u||(l=!0,s[E]=t,--c||o(new r(s,Df)))}))})),--c||o(new r(s,Df))}));return s.error&&o(s.value),n.promise}});var Uf=Lr,Mf=p,xf=Yi,kf=zh,Ff=vt,Vf=vh,Bf=o.Promise,Wf=!1;Uf({target:"Promise",stat:!0,forced:!Bf||!Bf.try||Vf((function(){Bf.try((function(t){Wf=8===t}),8)})).error||!Wf},{try:function(t){var e=arguments.length>1?xf(arguments,1):[],r=kf.f(this),n=Vf((function(){return Mf(Ff(t),void 0,e)}));return(n.error?r.reject:r.resolve)(n.value),r.promise}});var Gf=zh;Lr({target:"Promise",stat:!0},{withResolvers:function(){var t=Gf.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var jf=Lr,Hf=Ph,Kf=s,Yf=it,zf=b,Jf=bd,Xf=_f,qf=Hf&&Hf.prototype;jf({target:"Promise",proto:!0,real:!0,forced:!!Hf&&Kf((function(){qf.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=Jf(this,Yf("Promise")),r=zf(t);return this.then(r?function(r){return Xf(e,t()).then((function(){return r}))}:t,r?function(r){return Xf(e,t()).then((function(){throw r}))}:t)}});var Qf=r($.Promise),Zf={exports:{}};!function(t,r){!function(e,n){var i="function",o="undefined",s="object",a="string",c="major",u="model",E="name",l="type",p="vendor",d="version",h="architecture",_="console",f="mobile",T="tablet",R="smarttv",O="wearable",A="embedded",m="Amazon",S="Apple",I="ASUS",g="BlackBerry",N="Browser",b="Chrome",C="Firefox",y="Google",w="Huawei",L="LG",v="Microsoft",P="Motorola",D="Opera",U="Samsung",M="Sharp",x="Sony",k="Xiaomi",F="Zebra",V="Facebook",B="Chromium OS",W="Mac OS",G=function(t){for(var e={},r=0;r<t.length;r++)e[t[r].toUpperCase()]=t[r];return e},j=function(t,e){return typeof t===a&&-1!==H(e).indexOf(H(t))},H=function(t){return t.toLowerCase()},K=function(t,e){if(typeof t===a)return t=t.replace(/^\s\s*/,""),typeof e===o?t:t.substring(0,350)},Y=function(t,e){for(var r,o,a,c,u,E,l=0;l<e.length&&!u;){var p=e[l],d=e[l+1];for(r=o=0;r<p.length&&!u&&p[r];)if(u=p[r++].exec(t))for(a=0;a<d.length;a++)E=u[++o],typeof(c=d[a])===s&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,E):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=E?E.replace(c[1],c[2]):n:this[c[0]]=E?c[1].call(this,E,c[2]):n:4===c.length&&(this[c[0]]=E?c[3].call(this,E.replace(c[1],c[2])):n):this[c]=E||n;l+=2}},z=function(t,e){for(var r in e)if(typeof e[r]===s&&e[r].length>0){for(var i=0;i<e[r].length;i++)if(j(e[r][i],t))return"?"===r?n:r}else if(j(e[r],t))return"?"===r?n:r;return t},J={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[d,[E,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[d,[E,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[E,d],[/opios[\/ ]+([\w\.]+)/i],[d,[E,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[d,[E,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[E,d],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[d,[E,"UC"+N]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[d,[E,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[d,[E,"WeChat"]],[/konqueror\/([\w\.]+)/i],[d,[E,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[d,[E,"IE"]],[/yabrowser\/([\w\.]+)/i],[d,[E,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[E,/(.+)/,"$1 Secure "+N],d],[/\bfocus\/([\w\.]+)/i],[d,[E,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[d,[E,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[d,[E,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[d,[E,"Dolphin"]],[/coast\/([\w\.]+)/i],[d,[E,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[d,[E,"MIUI "+N]],[/fxios\/([-\w\.]+)/i],[d,[E,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[E,"360 "+N]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[E,/(.+)/,"$1 "+N],d],[/(comodo_dragon)\/([\w\.]+)/i],[[E,/_/g," "],d],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[E,d],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[E],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[E,V],d],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[E,d],[/\bgsa\/([\w\.]+) .*safari\//i],[d,[E,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[d,[E,b+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[E,b+" WebView"],d],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[d,[E,"Android "+N]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[E,d],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[d,[E,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[d,E],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[E,[d,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[E,d],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[E,"Netscape"],d],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[d,[E,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[E,d],[/(cobalt)\/([\w\.]+)/i],[E,[d,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,H]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[h,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[h,"armhf"]],[/windows (ce|mobile); ppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[h,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[h,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,U],[l,T]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,U],[l,f]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[p,S],[l,f]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,S],[l,T]],[/(macintosh);/i],[u,[p,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,M],[l,f]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,w],[l,T]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,w],[l,f]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,k],[l,f]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,k],[l,T]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[l,f]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[l,f]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[l,f]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,P],[l,f]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,P],[l,T]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,L],[l,T]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,L],[l,f]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[l,T]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[l,f]],[/(pixel c)\b/i],[u,[p,y],[l,T]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,y],[l,f]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,x],[l,f]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,x],[l,T]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[l,f]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,m],[l,T]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,m],[l,f]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[l,T]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,g],[l,f]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,I],[l,T]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,I],[l,f]],[/(nexus 9)/i],[u,[p,"HTC"],[l,T]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[l,f]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[l,T]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[l,f]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[l,f]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[l,T]],[/(surface duo)/i],[u,[p,v],[l,T]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[l,f]],[/(u304aa)/i],[u,[p,"AT&T"],[l,f]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[l,f]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[l,T]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[l,T]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[l,T]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[l,T]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[l,T]],[/\b(k88) b/i],[u,[p,"ZTE"],[l,T]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[l,f]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[l,f]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[l,T]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[l,T]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[l,T]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[l,T]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[l,T]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[l,f]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[l,f]],[/\b(ph-1) /i],[u,[p,"Essential"],[l,f]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[l,T]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[l,T]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[l,T]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[l,T]],[/(sprint) (\w+)/i],[p,u,[l,f]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,v],[l,f]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,F],[l,T]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,F],[l,f]],[/smart-tv.+(samsung)/i],[p,[l,R]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,U],[l,R]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,L],[l,R]],[/(apple) ?tv/i],[p,[u,S+" TV"],[l,R]],[/crkey/i],[[u,b+"cast"],[p,y],[l,R]],[/droid.+aft(\w)( bui|\))/i],[u,[p,m],[l,R]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,M],[l,R]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,x],[l,R]],[/(mitv-\w{5}) bui/i],[u,[p,k],[l,R]],[/Hbbtv.*(technisat) (.*);/i],[p,u,[l,R]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,K],[u,K],[l,R]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,R]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[l,_]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[l,_]],[/(playstation [345portablevi]+)/i],[u,[p,x],[l,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,v],[l,_]],[/((pebble))app/i],[p,u,[l,O]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[p,S],[l,O]],[/droid.+; (glass) \d/i],[u,[p,y],[l,O]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,F],[l,O]],[/(quest( 2| pro)?)/i],[u,[p,V],[l,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[l,A]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[l,f]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[l,T]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,T]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,f]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[d,[E,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[d,[E,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[E,d],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[d,E]],os:[[/microsoft (windows) (vista|xp)/i],[E,d],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[E,[d,z,J]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,"Windows"],[d,z,J]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[d,/_/g,"."],[E,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[E,W],[d,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[d,E],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[E,d],[/\(bb(10);/i],[d,[E,g]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[d,[E,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[d,[E,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[d,[E,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[d,[E,"watchOS"]],[/crkey\/([\d\.]+)/i],[d,[E,b+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[E,B],d],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[E,d],[/(sunos) ?([\w\.\d]*)/i],[[E,"Solaris"],d],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[E,d]]},q=function(t,r){if(typeof t===s&&(r=t,t=n),!(this instanceof q))return new q(t,r).getResult();var _=typeof e!==o&&e.navigator?e.navigator:n,R=t||(_&&_.userAgent?_.userAgent:""),O=_&&_.userAgentData?_.userAgentData:n,A=r?function(t,e){var r={};for(var n in t)e[n]&&e[n].length%2==0?r[n]=e[n].concat(t[n]):r[n]=t[n];return r}(X,r):X;return this.getBrowser=function(){var t={};return t[E]=n,t[d]=n,Y.call(t,R,A.browser),t[c]=function(t){return typeof t===a?t.replace(/[^\d\.]/g,"").split(".")[0]:n}(t[d]),_&&_.brave&&typeof _.brave.isBrave==i&&(t[E]="Brave"),t},this.getCPU=function(){var t={};return t[h]=n,Y.call(t,R,A.cpu),t},this.getDevice=function(){var t={};return t[p]=n,t[u]=n,t[l]=n,Y.call(t,R,A.device),!t[l]&&O&&O.mobile&&(t[l]=f),"Macintosh"==t[u]&&_&&typeof _.standalone!==o&&_.maxTouchPoints&&_.maxTouchPoints>2&&(t[u]="iPad",t[l]=T),t},this.getEngine=function(){var t={};return t[E]=n,t[d]=n,Y.call(t,R,A.engine),t},this.getOS=function(){var t={};return t[E]=n,t[d]=n,Y.call(t,R,A.os),!t[E]&&O&&"Unknown"!=O.platform&&(t[E]=O.platform.replace(/chrome os/i,B).replace(/macos/i,W)),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return R},this.setUA=function(t){return R=typeof t===a&&t.length>350?K(t,350):t,this},this.setUA(R),this};q.VERSION="0.7.34",q.BROWSER=G([E,d,c]),q.CPU=G([h]),q.DEVICE=G([u,p,l,_,f,R,T,O,A]),q.ENGINE=q.OS=G([E,d]),t.exports&&(r=t.exports=q),r.UAParser=q;var Q=typeof e!==o&&(e.jQuery||e.Zepto);if(Q&&!Q.ua){var Z=new q;Q.ua=Z.getResult(),Q.ua.get=function(){return Z.getUA()},Q.ua.set=function(t){Z.setUA(t);var e=Z.getResult();for(var r in e)Q.ua[r]=e[r]}}}("object"==typeof window?window:e)}(Zf,Zf.exports);var $f=r(Zf.exports);function tT(t,e){return function(){return t.apply(e,arguments)}}const{toString:eT}=Object.prototype,{getPrototypeOf:rT}=Object,nT=(iT=Object.create(null),t=>{const e=eT.call(t);return iT[e]||(iT[e]=e.slice(8,-1).toLowerCase())});var iT;const oT=t=>(t=t.toLowerCase(),e=>nT(e)===t),sT=t=>e=>typeof e===t,{isArray:aT}=Array,cT=sT("undefined");const uT=oT("ArrayBuffer");const ET=sT("string"),lT=sT("function"),pT=sT("number"),dT=t=>null!==t&&"object"==typeof t,hT=t=>{if("object"!==nT(t))return!1;const e=rT(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},_T=oT("Date"),fT=oT("File"),TT=oT("Blob"),RT=oT("FileList"),OT=oT("URLSearchParams"),[AT,mT,ST,IT]=["ReadableStream","Request","Response","Headers"].map(oT);function gT(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),aT(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let s;for(n=0;n<o;n++)s=i[n],e.call(null,t[s],s,t)}}function NT(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}const bT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,CT=t=>!cT(t)&&t!==bT;const yT=(wT="undefined"!=typeof Uint8Array&&rT(Uint8Array),t=>wT&&t instanceof wT);var wT;const LT=oT("HTMLFormElement"),vT=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),PT=oT("RegExp"),DT=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};gT(r,((r,i)=>{let o;!1!==(o=e(r,i,t))&&(n[i]=o||r)})),Object.defineProperties(t,n)},UT="abcdefghijklmnopqrstuvwxyz",MT="0123456789",xT={DIGIT:MT,ALPHA:UT,ALPHA_DIGIT:UT+UT.toUpperCase()+MT};const kT=oT("AsyncFunction"),FT=(VT="function"==typeof setImmediate,BT=lT(bT.postMessage),VT?setImmediate:BT?(WT=`axios@${Math.random()}`,GT=[],bT.addEventListener("message",(({source:t,data:e})=>{t===bT&&e===WT&&GT.length&&GT.shift()()}),!1),t=>{GT.push(t),bT.postMessage(WT,"*")}):t=>setTimeout(t));var VT,BT,WT,GT;const jT="undefined"!=typeof queueMicrotask?queueMicrotask.bind(bT):"undefined"!=typeof process&&process.nextTick||FT;var HT={isArray:aT,isArrayBuffer:uT,isBuffer:function(t){return null!==t&&!cT(t)&&null!==t.constructor&&!cT(t.constructor)&&lT(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||lT(t.append)&&("formdata"===(e=nT(t))||"object"===e&&lT(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&uT(t.buffer),e},isString:ET,isNumber:pT,isBoolean:t=>!0===t||!1===t,isObject:dT,isPlainObject:hT,isReadableStream:AT,isRequest:mT,isResponse:ST,isHeaders:IT,isUndefined:cT,isDate:_T,isFile:fT,isBlob:TT,isRegExp:PT,isFunction:lT,isStream:t=>dT(t)&&lT(t.pipe),isURLSearchParams:OT,isTypedArray:yT,isFileList:RT,forEach:gT,merge:function t(){const{caseless:e}=CT(this)&&this||{},r={},n=(n,i)=>{const o=e&&NT(r,i)||i;hT(r[o])&&hT(n)?r[o]=t(r[o],n):hT(n)?r[o]=t({},n):aT(n)?r[o]=n.slice():r[o]=n};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&gT(arguments[t],n);return r},extend:(t,e,r,{allOwnKeys:n}={})=>(gT(e,((e,n)=>{r&&lT(e)?t[n]=tT(e,r):t[n]=e}),{allOwnKeys:n}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,o,s;const a={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],n&&!n(s,t,e)||a[s]||(e[s]=t[s],a[s]=!0);t=!1!==r&&rT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:nT,kindOfTest:oT,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(aT(t))return t;let e=t.length;if(!pT(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:LT,hasOwnProperty:vT,hasOwnProp:vT,reduceDescriptors:DT,freezeMethods:t=>{DT(t,((e,r)=>{if(lT(t)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=t[r];lT(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach((t=>{r[t]=!0}))};return aT(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:NT,global:bT,isContextDefined:CT,ALPHABET:xT,generateString:(t=16,e=xT.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r},isSpecCompliantForm:function(t){return!!(t&&lT(t.append)&&"FormData"===t[Symbol.toStringTag]&&t[Symbol.iterator])},toJSONObject:t=>{const e=new Array(10),r=(t,n)=>{if(dT(t)){if(e.indexOf(t)>=0)return;if(!("toJSON"in t)){e[n]=t;const i=aT(t)?[]:{};return gT(t,((t,e)=>{const o=r(t,n+1);!cT(o)&&(i[e]=o)})),e[n]=void 0,i}}return t};return r(t,0)},isAsyncFn:kT,isThenable:t=>t&&(dT(t)||lT(t))&&lT(t.then)&&lT(t.catch),setImmediate:FT,asap:jT};function KT(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}HT.inherits(KT,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:HT.toJSONObject(this.config),code:this.code,status:this.status}}});const YT=KT.prototype,zT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{zT[t]={value:t}})),Object.defineProperties(KT,zT),Object.defineProperty(YT,"isAxiosError",{value:!0}),KT.from=(t,e,r,n,i,o)=>{const s=Object.create(YT);return HT.toFlatObject(t,s,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),KT.call(s,t.message,e,r,n,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};function JT(t){return HT.isPlainObject(t)||HT.isArray(t)}function XT(t){return HT.endsWith(t,"[]")?t.slice(0,-2):t}function qT(t,e,r){return t?t.concat(e).map((function(t,e){return t=XT(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const QT=HT.toFlatObject(HT,{},null,(function(t){return/^is[A-Z]/.test(t)}));function ZT(t,e,r){if(!HT.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const n=(r=HT.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!HT.isUndefined(e[t])}))).metaTokens,i=r.visitor||u,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&HT.isSpecCompliantForm(e);if(!HT.isFunction(i))throw new TypeError("visitor must be a function");function c(t){if(null===t)return"";if(HT.isDate(t))return t.toISOString();if(!a&&HT.isBlob(t))throw new KT("Blob is not supported. Use a Buffer instead.");return HT.isArrayBuffer(t)||HT.isTypedArray(t)?a&&"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}function u(t,r,i){let a=t;if(t&&!i&&"object"==typeof t)if(HT.endsWith(r,"{}"))r=n?r:r.slice(0,-2),t=JSON.stringify(t);else if(HT.isArray(t)&&function(t){return HT.isArray(t)&&!t.some(JT)}(t)||(HT.isFileList(t)||HT.endsWith(r,"[]"))&&(a=HT.toArray(t)))return r=XT(r),a.forEach((function(t,n){!HT.isUndefined(t)&&null!==t&&e.append(!0===s?qT([r],n,o):null===s?r:r+"[]",c(t))})),!1;return!!JT(t)||(e.append(qT(i,r,o),c(t)),!1)}const E=[],l=Object.assign(QT,{defaultVisitor:u,convertValue:c,isVisitable:JT});if(!HT.isObject(t))throw new TypeError("data must be an object");return function t(r,n){if(!HT.isUndefined(r)){if(-1!==E.indexOf(r))throw Error("Circular reference detected in "+n.join("."));E.push(r),HT.forEach(r,(function(r,o){!0===(!(HT.isUndefined(r)||null===r)&&i.call(e,r,HT.isString(o)?o.trim():o,n,l))&&t(r,n?n.concat(o):[o])})),E.pop()}}(t),e}function $T(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function tR(t,e){this._pairs=[],t&&ZT(t,this,e)}const eR=tR.prototype;function rR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function nR(t,e,r){if(!e)return t;const n=r&&r.encode||rR;HT.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(o=i?i(e,r):HT.isURLSearchParams(e)?e.toString():new tR(e,r).toString(n),o){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}eR.append=function(t,e){this._pairs.push([t,e])},eR.toString=function(t){const e=t?function(e){return t.call(this,e,$T)}:$T;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var iR=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){HT.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},oR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sR={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:tR,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const aR="undefined"!=typeof window&&"undefined"!=typeof document,cR="object"==typeof navigator&&navigator||void 0,uR=aR&&(!cR||["ReactNative","NativeScript","NS"].indexOf(cR.product)<0),ER="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,lR=aR&&window.location.href||"http://localhost";var pR={...Object.freeze({__proto__:null,hasBrowserEnv:aR,hasStandardBrowserEnv:uR,hasStandardBrowserWebWorkerEnv:ER,navigator:cR,origin:lR}),...sR};function dR(t){function e(t,r,n,i){let o=t[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=t.length;if(o=!o&&HT.isArray(n)?n.length:o,a)return HT.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&HT.isObject(n[o])||(n[o]=[]);return e(t,r,n[o],i)&&HT.isArray(n[o])&&(n[o]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}(n[o])),!s}if(HT.isFormData(t)&&HT.isFunction(t.entries)){const r={};return HT.forEachEntry(t,((t,n)=>{e(function(t){return HT.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),n,r,0)})),r}return null}const hR={transitional:oR,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const r=e.getContentType()||"",n=r.indexOf("application/json")>-1,i=HT.isObject(t);i&&HT.isHTMLForm(t)&&(t=new FormData(t));if(HT.isFormData(t))return n?JSON.stringify(dR(t)):t;if(HT.isArrayBuffer(t)||HT.isBuffer(t)||HT.isStream(t)||HT.isFile(t)||HT.isBlob(t)||HT.isReadableStream(t))return t;if(HT.isArrayBufferView(t))return t.buffer;if(HT.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return ZT(t,new pR.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,n){return pR.isNode&&HT.isBuffer(t)?(this.append(e,t.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},e))}(t,this.formSerializer).toString();if((o=HT.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return ZT(o?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||n?(e.setContentType("application/json",!1),function(t,e,r){if(HT.isString(t))try{return(e||JSON.parse)(t),HT.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||hR.transitional,r=e&&e.forcedJSONParsing,n="json"===this.responseType;if(HT.isResponse(t)||HT.isReadableStream(t))return t;if(t&&HT.isString(t)&&(r&&!this.responseType||n)){const r=!(e&&e.silentJSONParsing)&&n;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw KT.from(t,KT.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pR.classes.FormData,Blob:pR.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};HT.forEach(["delete","get","head","post","put","patch"],(t=>{hR.headers[t]={}}));var _R=hR;const fR=HT.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const TR=Symbol("internals");function RR(t){return t&&String(t).trim().toLowerCase()}function OR(t){return!1===t||null==t?t:HT.isArray(t)?t.map(OR):String(t)}function AR(t,e,r,n,i){return HT.isFunction(n)?n.call(this,e,r):(i&&(e=r),HT.isString(e)?HT.isString(n)?-1!==e.indexOf(n):HT.isRegExp(n)?n.test(e):void 0:void 0)}class mR{constructor(t){t&&this.set(t)}set(t,e,r){const n=this;function i(t,e,r){const i=RR(e);if(!i)throw new Error("header name must be a non-empty string");const o=HT.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||e]=OR(t))}const o=(t,e)=>HT.forEach(t,((t,r)=>i(t,r,e)));if(HT.isPlainObject(t)||t instanceof this.constructor)o(t,e);else if(HT.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))o((t=>{const e={};let r,n,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),r=t.substring(0,i).trim().toLowerCase(),n=t.substring(i+1).trim(),!r||e[r]&&fR[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t),e);else if(HT.isHeaders(t))for(const[e,n]of t.entries())i(n,e,r);else null!=t&&i(e,t,r);return this}get(t,e){if(t=RR(t)){const r=HT.findKey(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(HT.isFunction(e))return e.call(this,t,r);if(HT.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=RR(t)){const r=HT.findKey(this,t);return!(!r||void 0===this[r]||e&&!AR(0,this[r],r,e))}return!1}delete(t,e){const r=this;let n=!1;function i(t){if(t=RR(t)){const i=HT.findKey(r,t);!i||e&&!AR(0,r[i],i,e)||(delete r[i],n=!0)}}return HT.isArray(t)?t.forEach(i):i(t),n}clear(t){const e=Object.keys(this);let r=e.length,n=!1;for(;r--;){const i=e[r];t&&!AR(0,this[i],i,t,!0)||(delete this[i],n=!0)}return n}normalize(t){const e=this,r={};return HT.forEach(this,((n,i)=>{const o=HT.findKey(r,i);if(o)return e[o]=OR(n),void delete e[i];const s=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,r)=>e.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete e[i],e[s]=OR(n),r[s]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return HT.forEach(this,((r,n)=>{null!=r&&!1!==r&&(e[n]=t&&HT.isArray(r)?r.join(", "):r)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const r=new this(t);return e.forEach((t=>r.set(t))),r}static accessor(t){const e=(this[TR]=this[TR]={accessors:{}}).accessors,r=this.prototype;function n(t){const n=RR(t);e[n]||(!function(t,e){const r=HT.toCamelCase(" "+e);["get","set","has"].forEach((n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})}))}(r,t),e[n]=!0)}return HT.isArray(t)?t.forEach(n):n(t),this}}mR.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),HT.reduceDescriptors(mR.prototype,(({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[r]=t}}})),HT.freezeMethods(mR);var SR=mR;function IR(t,e){const r=this||_R,n=e||r,i=SR.from(n.headers);let o=n.data;return HT.forEach(t,(function(t){o=t.call(r,o,i.normalize(),e?e.status:void 0)})),i.normalize(),o}function gR(t){return!(!t||!t.__CANCEL__)}function NR(t,e,r){KT.call(this,null==t?"canceled":t,KT.ERR_CANCELED,e,r),this.name="CanceledError"}function bR(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new KT("Request failed with status code "+r.status,[KT.ERR_BAD_REQUEST,KT.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}HT.inherits(NR,KT,{__CANCEL__:!0});const CR=(t,e,r=3)=>{let n=0;const i=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,o=0,s=0;return e=void 0!==e?e:1e3,function(a){const c=Date.now(),u=n[s];i||(i=c),r[o]=a,n[o]=c;let E=s,l=0;for(;E!==o;)l+=r[E++],E%=t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),c-i<e)return;const p=u&&c-u;return p?Math.round(1e3*l/p):void 0}}(50,250);return function(t,e){let r,n,i=0,o=1e3/e;const s=(e,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),t.apply(null,e)};return[(...t)=>{const e=Date.now(),a=e-i;a>=o?s(t,e):(r=t,n||(n=setTimeout((()=>{n=null,s(r)}),o-a)))},()=>r&&s(r)]}((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;t({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r,lengthComputable:null!=s,[e?"download":"upload"]:!0})}),r)},yR=(t,e)=>{const r=null!=t;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},wR=t=>(...e)=>HT.asap((()=>t(...e)));var LR=pR.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,pR.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(pR.origin),pR.navigator&&/(msie|trident)/i.test(pR.navigator.userAgent)):()=>!0,vR=pR.hasStandardBrowserEnv?{write(t,e,r,n,i,o){const s=[t+"="+encodeURIComponent(e)];HT.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),HT.isString(n)&&s.push("path="+n),HT.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function PR(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const DR=t=>t instanceof SR?{...t}:t;function UR(t,e){e=e||{};const r={};function n(t,e,r,n){return HT.isPlainObject(t)&&HT.isPlainObject(e)?HT.merge.call({caseless:n},t,e):HT.isPlainObject(e)?HT.merge({},e):HT.isArray(e)?e.slice():e}function i(t,e,r,i){return HT.isUndefined(e)?HT.isUndefined(t)?void 0:n(void 0,t,0,i):n(t,e,0,i)}function o(t,e){if(!HT.isUndefined(e))return n(void 0,e)}function s(t,e){return HT.isUndefined(e)?HT.isUndefined(t)?void 0:n(void 0,t):n(void 0,e)}function a(r,i,o){return o in e?n(r,i):o in t?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(t,e,r)=>i(DR(t),DR(e),0,!0)};return HT.forEach(Object.keys(Object.assign({},t,e)),(function(n){const o=c[n]||i,s=o(t[n],e[n],n);HT.isUndefined(s)&&o!==a||(r[n]=s)})),r}var MR=t=>{const e=UR({},t);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:c}=e;if(e.headers=a=SR.from(a),e.url=nR(PR(e.baseURL,e.url),t.params,t.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),HT.isFormData(n))if(pR.hasStandardBrowserEnv||pR.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[t,...e]=r?r.split(";").map((t=>t.trim())).filter(Boolean):[];a.setContentType([t||"multipart/form-data",...e].join("; "))}if(pR.hasStandardBrowserEnv&&(i&&HT.isFunction(i)&&(i=i(e)),i||!1!==i&&LR(e.url))){const t=o&&s&&vR.read(s);t&&a.set(o,t)}return e};var xR="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,r){const n=MR(t);let i=n.data;const o=SR.from(n.headers).normalize();let s,a,c,u,E,{responseType:l,onUploadProgress:p,onDownloadProgress:d}=n;function h(){u&&u(),E&&E(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let _=new XMLHttpRequest;function f(){if(!_)return;const n=SR.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders());bR((function(t){e(t),h()}),(function(t){r(t),h()}),{data:l&&"text"!==l&&"json"!==l?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:n,config:t,request:_}),_=null}_.open(n.method.toUpperCase(),n.url,!0),_.timeout=n.timeout,"onloadend"in _?_.onloadend=f:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(f)},_.onabort=function(){_&&(r(new KT("Request aborted",KT.ECONNABORTED,t,_)),_=null)},_.onerror=function(){r(new KT("Network Error",KT.ERR_NETWORK,t,_)),_=null},_.ontimeout=function(){let e=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||oR;n.timeoutErrorMessage&&(e=n.timeoutErrorMessage),r(new KT(e,i.clarifyTimeoutError?KT.ETIMEDOUT:KT.ECONNABORTED,t,_)),_=null},void 0===i&&o.setContentType(null),"setRequestHeader"in _&&HT.forEach(o.toJSON(),(function(t,e){_.setRequestHeader(e,t)})),HT.isUndefined(n.withCredentials)||(_.withCredentials=!!n.withCredentials),l&&"json"!==l&&(_.responseType=n.responseType),d&&([c,E]=CR(d,!0),_.addEventListener("progress",c)),p&&_.upload&&([a,u]=CR(p),_.upload.addEventListener("progress",a),_.upload.addEventListener("loadend",u)),(n.cancelToken||n.signal)&&(s=e=>{_&&(r(!e||e.type?new NR(null,t,_):e),_.abort(),_=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const T=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(n.url);T&&-1===pR.protocols.indexOf(T)?r(new KT("Unsupported protocol "+T+":",KT.ERR_BAD_REQUEST,t)):_.send(i||null)}))};var kR=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let r,n=new AbortController;const i=function(t){if(!r){r=!0,s();const e=t instanceof Error?t:this.reason;n.abort(e instanceof KT?e:new NR(e instanceof Error?e.message:e))}};let o=e&&setTimeout((()=>{o=null,i(new KT(`timeout ${e} of ms exceeded`,KT.ETIMEDOUT))}),e);const s=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach((t=>{t.unsubscribe?t.unsubscribe(i):t.removeEventListener("abort",i)})),t=null)};t.forEach((t=>t.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>HT.asap(s),a}};const FR=function*(t,e){let r=t.byteLength;if(!e||r<e)return void(yield t);let n,i=0;for(;i<r;)n=i+e,yield t.slice(i,n),i=n},VR=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},BR=(t,e,r,n)=>{const i=async function*(t,e){for await(const r of VR(t))yield*FR(r,e)}(t,e);let o,s=0,a=t=>{o||(o=!0,n&&n(t))};return new ReadableStream({async pull(t){try{const{done:e,value:n}=await i.next();if(e)return a(),void t.close();let o=n.byteLength;if(r){let t=s+=o;r(t)}t.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel:t=>(a(t),i.return())},{highWaterMark:2})},WR="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,GR=WR&&"function"==typeof ReadableStream,jR=WR&&("function"==typeof TextEncoder?(HR=new TextEncoder,t=>HR.encode(t)):async t=>new Uint8Array(await new Response(t).arrayBuffer()));var HR;const KR=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},YR=GR&&KR((()=>{let t=!1;const e=new Request(pR.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),zR=GR&&KR((()=>HT.isReadableStream(new Response("").body))),JR={stream:zR&&(t=>t.body)};var XR;WR&&(XR=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!JR[t]&&(JR[t]=HT.isFunction(XR[t])?e=>e[t]():(e,r)=>{throw new KT(`Response type '${t}' is not supported`,KT.ERR_NOT_SUPPORT,r)})})));const qR=async(t,e)=>{const r=HT.toFiniteNumber(t.getContentLength());return null==r?(async t=>{if(null==t)return 0;if(HT.isBlob(t))return t.size;if(HT.isSpecCompliantForm(t)){const e=new Request(pR.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return HT.isArrayBufferView(t)||HT.isArrayBuffer(t)?t.byteLength:(HT.isURLSearchParams(t)&&(t+=""),HT.isString(t)?(await jR(t)).byteLength:void 0)})(e):r};var QR=WR&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:E,withCredentials:l="same-origin",fetchOptions:p}=MR(t);u=u?(u+"").toLowerCase():"text";let d,h=kR([i,o&&o.toAbortSignal()],s);const _=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let f;try{if(c&&YR&&"get"!==r&&"head"!==r&&0!==(f=await qR(E,n))){let t,r=new Request(e,{method:"POST",body:n,duplex:"half"});if(HT.isFormData(n)&&(t=r.headers.get("content-type"))&&E.setContentType(t),r.body){const[t,e]=yR(f,CR(wR(c)));n=BR(r.body,65536,t,e)}}HT.isString(l)||(l=l?"include":"omit");const i="credentials"in Request.prototype;d=new Request(e,{...p,signal:h,method:r.toUpperCase(),headers:E.normalize().toJSON(),body:n,duplex:"half",credentials:i?l:void 0});let o=await fetch(d);const s=zR&&("stream"===u||"response"===u);if(zR&&(a||s&&_)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=o[e]}));const e=HT.toFiniteNumber(o.headers.get("content-length")),[r,n]=a&&yR(e,CR(wR(a),!0))||[];o=new Response(BR(o.body,65536,r,(()=>{n&&n(),_&&_()})),t)}u=u||"text";let T=await JR[HT.findKey(JR,u)||"text"](o,t);return!s&&_&&_(),await new Promise(((e,r)=>{bR(e,r,{data:T,headers:SR.from(o.headers),status:o.status,statusText:o.statusText,config:t,request:d})}))}catch(e){if(_&&_(),e&&"TypeError"===e.name&&/fetch/i.test(e.message))throw Object.assign(new KT("Network Error",KT.ERR_NETWORK,t,d),{cause:e.cause||e});throw KT.from(e,e&&e.code,t,d)}});const ZR={http:null,xhr:xR,fetch:QR};HT.forEach(ZR,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const $R=t=>`- ${t}`,tO=t=>HT.isFunction(t)||null===t||!1===t;var eO=t=>{t=HT.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let o=0;o<e;o++){let e;if(r=t[o],n=r,!tO(r)&&(n=ZR[(e=String(r)).toLowerCase()],void 0===n))throw new KT(`Unknown adapter '${e}'`);if(n)break;i[e||"#"+o]=n}if(!n){const t=Object.entries(i).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));throw new KT("There is no suitable adapter to dispatch the request "+(e?t.length>1?"since :\n"+t.map($R).join("\n"):" "+$R(t[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function rO(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new NR(null,t)}function nO(t){rO(t),t.headers=SR.from(t.headers),t.data=IR.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return eO(t.adapter||_R.adapter)(t).then((function(e){return rO(t),e.data=IR.call(t,t.transformResponse,e),e.headers=SR.from(e.headers),e}),(function(e){return gR(e)||(rO(t),e&&e.response&&(e.response.data=IR.call(t,t.transformResponse,e.response),e.response.headers=SR.from(e.response.headers))),Promise.reject(e)}))}const iO="1.7.9",oO={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{oO[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));const sO={};oO.transitional=function(t,e,r){function n(t,e){return"[Axios v1.7.9] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,o)=>{if(!1===t)throw new KT(n(i," has been removed"+(e?" in "+e:"")),KT.ERR_DEPRECATED);return e&&!sO[i]&&(sO[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}},oO.spelling=function(t){return(e,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};var aO={assertOptions:function(t,e,r){if("object"!=typeof t)throw new KT("options must be an object",KT.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],s=e[o];if(s){const e=t[o],r=void 0===e||s(e,o,t);if(!0!==r)throw new KT("option "+o+" must be "+r,KT.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new KT("Unknown option "+o,KT.ERR_BAD_OPTION)}},validators:oO};const cO=aO.validators;let uO=class{constructor(t){this.defaults=t,this.interceptors={request:new iR,response:new iR}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const r=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?r&&!String(t.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+r):t.stack=r}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=UR(this.defaults,e);const{transitional:r,paramsSerializer:n,headers:i}=e;void 0!==r&&aO.assertOptions(r,{silentJSONParsing:cO.transitional(cO.boolean),forcedJSONParsing:cO.transitional(cO.boolean),clarifyTimeoutError:cO.transitional(cO.boolean)},!1),null!=n&&(HT.isFunction(n)?e.paramsSerializer={serialize:n}:aO.assertOptions(n,{encode:cO.function,serialize:cO.function},!0)),aO.assertOptions(e,{baseUrl:cO.spelling("baseURL"),withXsrfToken:cO.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let o=i&&HT.merge(i.common,i[e.method]);i&&HT.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=SR.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(a=a&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));const c=[];let u;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let E,l=0;if(!a){const t=[nO.bind(this),void 0];for(t.unshift.apply(t,s),t.push.apply(t,c),E=t.length,u=Promise.resolve(e);l<E;)u=u.then(t[l++],t[l++]);return u}E=s.length;let p=e;for(l=0;l<E;){const t=s[l++],e=s[l++];try{p=t(p)}catch(t){e.call(this,t);break}}try{u=nO.call(this,p)}catch(t){return Promise.reject(t)}for(l=0,E=c.length;l<E;)u=u.then(c[l++],c[l++]);return u}getUri(t){return nR(PR((t=UR(this.defaults,t)).baseURL,t.url),t.params,t.paramsSerializer)}};HT.forEach(["delete","get","head","options"],(function(t){uO.prototype[t]=function(e,r){return this.request(UR(r||{},{method:t,url:e,data:(r||{}).data}))}})),HT.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(UR(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}uO.prototype[t]=e(),uO.prototype[t+"Form"]=e(!0)}));var EO=uO;class lO{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then((t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null})),this.promise.then=t=>{let e;const n=new Promise((t=>{r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new NR(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new lO((function(e){t=e})),cancel:t}}}var pO=lO;const dO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dO).forEach((([t,e])=>{dO[e]=t}));var hO=dO;const _O=function t(e){const r=new EO(e),n=tT(EO.prototype.request,r);return HT.extend(n,EO.prototype,r,{allOwnKeys:!0}),HT.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return t(UR(e,r))},n}(_R);_O.Axios=EO,_O.CanceledError=NR,_O.CancelToken=pO,_O.isCancel=gR,_O.VERSION=iO,_O.toFormData=ZT,_O.AxiosError=KT,_O.Cancel=_O.CanceledError,_O.all=function(t){return Promise.all(t)},_O.spread=function(t){return function(e){return t.apply(null,e)}},_O.isAxiosError=function(t){return HT.isObject(t)&&!0===t.isAxiosError},_O.mergeConfig=UR,_O.AxiosHeaders=SR,_O.formToJSON=t=>dR(HT.isHTMLForm(t)?new FormData(t):t),_O.getAdapter=eO,_O.HttpStatusCode=hO,_O.default=_O;var fO=_O;!function(t){t.WIN_10="Windows 10",t.WIN_81="Windows 8.1",t.WIN_8="Windows 8",t.WIN_7="Windows 7",t.WIN_VISTA="Windows Vista",t.WIN_SERVER_2003="Windows Server 2003",t.WIN_XP="Windows XP",t.WIN_2000="Windows 2000",t.ANDROID="Android",t.HARMONY_OS="HarmonyOS",t.OPEN_BSD="Open BSD",t.SUN_OS="Sun OS",t.LINUX="Linux",t.IOS="iOS",t.MAC_OS="Mac OS",t.CHROMIUM_OS="Chromium OS",t.QNX="QNX",t.UNIX="UNIX",t.BEOS="BeOS",t.OS_2="OS/2",t.SEARCH_BOT="Search Bot"}({}),function(t){t.CHROME="Chrome",t.SAFARI="Safari",t.EDGE="Edge",t.FIREFOX="Firefox",t.OPERA="OPR",t.QQ="QQBrowser",t.WECHAT="MicroMessenger"}({});function TO(t,e,r){return(e=function(t){var e=function(t){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function OO(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?RO(Object(r),!0).forEach((function(e){TO(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RO(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(new $f).getResult();let AO=function(t){return t.UNEXPECTED_ERROR="UNEXPECTED_ERROR",t.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",t.TIMEOUT="TIMEOUT",t.INVALID_PARAMS="INVALID_PARAMS",t.NOT_READABLE="NOT_READABLE",t.NOT_SUPPORTED="NOT_SUPPORTED",t.INVALID_OPERATION="INVALID_OPERATION",t.OPERATION_ABORTED="OPERATION_ABORTED",t.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",t.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",t.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",t.DATACHANNEL_FAILED="DATACHANNEL_FAILED",t.NETWORK_ERROR="NETWORK_ERROR",t.NETWORK_TIMEOUT="NETWORK_TIMEOUT",t.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",t.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",t.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",t.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",t.ELECTRON_IS_NULL="ELECTRON_IS_NULL",t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",t.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",t.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",t.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",t.PERMISSION_DENIED="PERMISSION_DENIED",t.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",t.TRACK_IS_DISABLED="TRACK_IS_DISABLED",t.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",t.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",t.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",t.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",t.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",t.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",t.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",t.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",t.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",t.UID_CONFLICT="UID_CONFLICT",t.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",t.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",t.TOKEN_EXPIRE="TOKEN_EXPIRE",t.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",t.INVALID_TRACK="INVALID_TRACK",t.SENDER_NOT_FOUND="SENDER_NOT_FOUND",t.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",t.SET_ANSWER_FAILED="SET_ANSWER_FAILED",t.ICE_FAILED="ICE_FAILED",t.PC_CLOSED="PC_CLOSED",t.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",t.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",t.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",t.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",t.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",t.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",t.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",t.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",t.INVALID_REMOTE_USER="INVALID_REMOTE_USER",t.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",t.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",t.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",t.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",t.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",t.WS_ABORT="WS_ABORT",t.WS_DISCONNECT="WS_DISCONNECT",t.WS_ERR="WS_ERR",t.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",t.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",t.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",t.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",t.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",t.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",t.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",t.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",t.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",t.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",t.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",t.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",t.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",t.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",t.INVALID_PLUGIN="INVALID_PLUGIN",t.DISCONNECT_P2P="DISCONNECT_P2P",t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",t.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",t.CREATE_DATACHANNEL_ERROR="CREATE_DATACHANNEL_ERROR",t.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",t.PROHIBITED_OPERATION="PROHIBITED_OPERATION",t.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",t.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED",t}({});class mO extends Error{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;super(e),TO(this,"code",void 0),TO(this,"message",void 0),TO(this,"data",void 0),TO(this,"name","AgoraRTCException"),this.code=t,this.message="AgoraRTCError ".concat(this.code,": ").concat(e),this.data=r}toString(){return this.data?"".concat(this.message,"\ndata: ").concat(JSON.stringify(this.data)):this.message}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",e=arguments.length>1?arguments[1]:void 0;return"error"===t&&(e||console).error(this.toString()),"warning"===t&&(e||console).warn(this.toString()),this}throw(t){throw this.print("error",t),this}}function SO(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==t)throw new mO(AO.INVALID_PARAMS,"".concat(e||"param"," cannot be empty"));if(!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"string"==typeof t&&t.length<=r&&t.length>=e&&(!n||function(t){if("string"!=typeof t)return!1;for(let e=0;e<t.length;e+=1){const r=t.charCodeAt(e);if(r<0||r>255)return!1}return!0}(t))}(t,r,n,i))throw new mO(AO.INVALID_PARAMS,"Invalid ".concat(e||"string param",": Length of the string: [").concat(r,",").concat(n,"].").concat(i?" ASCII characters only.":""))}var IO=function(t){return t.COVERED="COVERED",t.POSITION="POSITION",t.SIZE="SIZE",t.STYLE="STYLE",t}(IO||{}),gO=function(t){return t.UNMOUNTED="UNMOUNTED",t.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT",t}(gO||{});new class{constructor(){TO(this,"_clientSize",null),TO(this,"getClientWidth",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),TO(this,"getClientHeight",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),TO(this,"getStyle",(t=>window.getComputedStyle(t,null))),TO(this,"checkCssVisibleProperty",(t=>{let e=!0;const r=this.getStyle(t),{display:n,visibility:i,opacity:o,filter:s}=r;return("none"===n||["hidden","collapse"].includes(i)||Number(o)<.1)&&(e=!1),!!e&&(s&&s.split(" ").filter((t=>{const e=t.split("(")[0];return["brightness","blur","opacity"].includes(e)})).map((t=>{const[e,r]=t.split(/\(|\)/);return[e,Number(r.match(/^[0-9\.]+/))]})).forEach((t=>{const[r,n]=t;switch(r){case"brightness":(n<.1||n>3)&&(e=!1);break;case"blur":n>3&&(e=!1);break;case"opacity":n<.1&&(e=!1)}})),e)})),TO(this,"checkPropertyUpToAllParentNodes",((t,e)=>{let r=!0,n=!0;const i=t=>e(t);let o=t;for(;o&&n;)i(o)||(r=!1,n=!1),o=o.parentElement,o||(n=!1);return r})),TO(this,"checkActualCssVisibleIncludeInherit",(t=>this.checkPropertyUpToAllParentNodes(t,this.checkCssVisibleProperty))),TO(this,"getSizeAboutClient",(t=>{const{width:e,height:r,left:n,right:i,top:o,bottom:s}=t.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:e,height:r,left:n,right:i,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),TO(this,"checkActualSize",(()=>{const{width:t,height:e,clientMin:r}=this._clientSize;return this.checkSizeIsVisible(t,e,r)})),TO(this,"elementFromPoint",((t,e)=>document.elementFromPoint?document.elementFromPoint(t,e):null)),TO(this,"checkCoverForAPoint",((t,e,r)=>{const n=this.elementFromPoint(t,e);return null!==n&&n!==r})),TO(this,"getPointPositionList",(()=>{const{width:t,height:e,left:r,top:n}=this._clientSize,i=t/6,o=e/6,s=[],a=10**6;for(let t=0;t<5;t++)for(let e=0;e<5;e++){const c=(r*a+(0===t?.1:4===t?(i*t*a-1e5)/a:i*t)*a)/a,u=(n*a+(0===e?.1:4===e?(o*e*a-1e5)/a:o*e)*a)/a;s.push({x:c,y:u})}return[...s]})),TO(this,"checkElementCover",(t=>this.getPointPositionList().map((e=>this.checkCoverForAPoint(e.x,e.y,t))).filter((t=>!!t)).length>6)),TO(this,"checkSizeIsVisible",((t,e,r)=>(t>50||r/t<=10)&&(e>50||r/e<=10))),TO(this,"checkSizeOfPartInClient",(()=>{const{left:t,right:e,top:r,bottom:n,clientHeight:i,clientWidth:o,clientMin:s}=this._clientSize;let a,c,u,E;if(t<0)a=0;else{if(!(t<o))return!1;a=t}if(e<0)return!1;if(c=e<o?e:o,r<0)u=0;else{if(!(r<i))return!1;u=r}if(n<0)return!1;E=n<i?n:i;const l=c-a,p=E-u;return this.checkSizeIsVisible(l,p,s)})),TO(this,"returnHiddenResult",(t=>(this._clientSize=null,{visible:!1,reason:t}))),TO(this,"checkOneElementVisible",(t=>{if(t instanceof HTMLElement){if(this.checkElementIsMountedOnDom(t)){if(this.checkActualCssVisibleIncludeInherit(t)){if(this._clientSize=this.getSizeAboutClient(t),this.checkElementCover(t))return this.returnHiddenResult(IO.COVERED);{const t=this.checkActualSize(),e=this.checkSizeOfPartInClient();return t&&!e?this.returnHiddenResult(IO.POSITION):t?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(IO.SIZE)}}return this.returnHiddenResult(IO.STYLE)}return this.returnHiddenResult(gO.UNMOUNTED)}return this.returnHiddenResult(gO.INVALID_HTML_ELEMENT)})),TO(this,"checkElementIsMountedOnDom",(t=>this.checkPropertyUpToAllParentNodes(t,(t=>"HTML"!==t.nodeName.toUpperCase()?null!==t.parentElement:!!document.documentElement))))}};const NO=function(t,e){const r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t),0),r.set(new Uint8Array(e),t.byteLength),r};class bO{constructor(){TO(this,"_events",{}),TO(this,"addListener",this.on)}getListeners(t){return this._events[t]?this._events[t].map((t=>t.listener)):[]}on(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!1})}once(t,e){this._events[t]||(this._events[t]=[]);const r=this._events[t];-1===this._indexOfListener(r,e)&&r.push({listener:e,once:!0})}off(t,e){if(!this._events[t])return;const r=this._events[t],n=this._indexOfListener(r,e);-1!==n&&r.splice(n,1),0===this._events[t].length&&delete this._events[t]}removeAllListeners(t){t?delete this._events[t]:this._events={}}emit(t){this._events[t]||(this._events[t]=[]);const e=this._events[t].map((t=>t));for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];for(let r=0;r<e.length;r+=1){const i=e[r];i.once&&this.off(t,i.listener),i.listener.apply(this,n||[])}}safeEmit(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];[...this._events[t]||[]].forEach((e=>{e.once&&this.off(t,e.listener);try{e.listener.apply(this,r)}catch(e){console.error("safeEmit event:".concat(t," error ").concat(null==e?void 0:e.toString()))}}))}_indexOfListener(t,e){let r=t.length;for(;r--;)if(t[r].listener===e)return r;return-1}}!function(t){t.CREATE_CLIENT="createClient",t.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",t.SET_AREA="setArea",t.PRELOAD="PRELOAD",t.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",t.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",t.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",t.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",t.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",t.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",t.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",t.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",t.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",t.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",t.START_PROXY_SERVER="Client.startProxyServer",t.STOP_PROXY_SERVER="Client.stopProxyServer",t.SET_PROXY_SERVER="Client.setProxyServer",t.SET_TURN_SERVER="Client.setTurnServer",t.SET_CLIENT_ROLE="Client.setClientRole",t.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",t.ENABLE_DUAL_STREAM="Client.enableDualStream",t.DISABLE_DUAL_STREAM="Client.disableDualStream",t.JOIN="Client.join",t.LEAVE="Client.leave",t.PUBLISH="Client.publish",t.UNPUBLISH="Client.unpublish",t.SUBSCRIBE="Client.subscribe",t.MASS_SUBSCRIBE="Client.massSubscribe",t.MASS_UNSUBSCRIBE="Client.massUnsubscribe",t.UNSUBSCRIBE="Client.unsubscribe",t.RENEW_TOKEN="Client.renewToken",t.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",t.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",t.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",t.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",t.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",t.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",t.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",t.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",t.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",t.START_LIVE_STREAMING="Client.startLiveStreaming",t.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",t.STOP_LIVE_STREAMING="Client.stopLiveStreaming",t.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",t.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",t.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",t.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",t.SET_CONFIG_DISTRIBUTE="_configDistribute",t.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",t.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",t.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",t.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",t.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",t.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",t.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",t.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",t.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",t.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",t.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",t.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",t.LOCAL_VIDEO_SEND_SEI_DATA="LocalVideoTrack.sendSeiData",t.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",t.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",t.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",t.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",t.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",t.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",t.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",t.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",t.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",t.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",t.STREAM_TYPE_CHANGE="streamTypeChange",t.CONNECTION_STATE_CHANGE="connectionStateChange",t.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",t.IMAGE_MODERATION_UPLOAD="imageModerationUpload",t.REPUB_AFTER_PC_CONNECTED="repubAfterPCConnected"}({});let CO=function(t){return t.TRACER="tracer",t}({});!function(t){t[t.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",t[t.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",t[t.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}({}),function(t){t.LEAVE="LEAVE",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.UID_BANNED="UID_BANNED",t.FALLBACK="FALLBACK",t.IP_BANNED="IP_BANNED",t.CHANNEL_BANNED="CHANNEL_BANNED",t.LICENSE_MISSING="LICENSE_MISSING",t.LICENSE_EXPIRED="LICENSE_EXPIRED",t.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",t.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",t.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",t.LICENSE_ILLEGAL="LICENSE_ILLEGAL",t.TOKEN_EXPIRE="TOKEN_EXPIRE"}({}),function(t){t.PEERCONNECTION_STATE_CHANGE="peerconnection-state-change",t.AUDIO_METADATA="audio-metadata",t.CONNECTION_STATE_CHANGE="connection-state-change",t.MEDIA_RECONNECT_START="media-reconnect-start",t.MEDIA_RECONNECT_END="media-reconnect-end",t.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",t.USER_JOINED="user-joined",t.USER_LEAVED="user-left",t.USER_PUBLISHED="user-published",t.USER_UNPUBLISHED="user-unpublished",t.USER_INFO_UPDATED="user-info-updated",t.CLIENT_BANNED="client-banned",t.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",t.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",t.VOLUME_INDICATOR="volume-indicator",t.CRYPT_ERROR="crypt-error",t.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",t.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",t.NETWORK_QUALITY="network-quality",t.STREAM_TYPE_CHANGED="stream-type-changed",t.STREAM_FALLBACK="stream-fallback",t.RECEIVE_METADATA="receive-metadata",t.STREAM_MESSAGE="stream-message",t.LIVE_STREAMING_ERROR="live-streaming-error",t.LIVE_STREAMING_WARNING="live-streaming-warning",t.EXCEPTION="exception",t.ERROR="error",t.P2P_LOST="p2p_lost",t.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",t.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",t.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",t.PUBLISHED_USER_LIST="published-user-list",t.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",t.CONTENT_INSPECT_ERROR="content-inspect-error",t.CONTENT_INSPECT_RESULT="content-inspect-result",t.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change"}({}),function(t){t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.MULTI_IP="MULTI_IP",t.TIMEOUT="TIMEOUT",t.OFFLINE="OFFLINE",t.LEAVE="LEAVE",t.P2P_FAILED="P2P_FAILED",t.FALLBACK="FALLBACK",t.REGIONAL_DISTRIBUTION="REGIONAL_DISTRIBUTION"}({});let yO=function(t){return t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({}),wO=function(t){return t.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",t.ONLINE="ONLINE",t.OFFLINE="OFFLINE",t}({});const LO=new class extends bO{set networkState(t){this.emit(wO.NETWORK_STATE_CHANGE,t,this._networkState),t===yO.ONLINE?this.emit(wO.ONLINE):t===yO.OFFLINE&&(this.onlineWaiter=new Promise((t=>{this.once(wO.ONLINE,(()=>{this.onlineWaiter=void 0,t(yO.ONLINE)}))})),this.emit(wO.OFFLINE)),this._networkState=t}get networkState(){return this._networkState}get isOnline(){return this._networkState===yO.ONLINE}constructor(){super(),TO(this,"_moduleName","network-indicator"),TO(this,"_networkState",yO.ONLINE),TO(this,"onlineWaiter",void 0),window.addEventListener("online",(()=>{this.networkState=yO.ONLINE})),window.addEventListener("offline",(()=>{this.networkState=yO.OFFLINE}))}};function vO(t){return window.TextEncoder?(new TextEncoder).encode(t).length:t.length}function PO(t){return new Promise((e=>{window.setTimeout(e,t)}))}function DO(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,e=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,t).toLowerCase();return r.length===t?"".concat(e).concat(r):"".concat(e).concat(r)+DO(t-r.length,"")}function UO(){return DO(32,"").toUpperCase()}const MO=new class{constructor(){TO(this,"fnMap",new Map)}throttleByKey(t,e,r,n){for(var i=arguments.length,o=new Array(i>4?i-4:0),s=4;s<i;s++)o[s-4]=arguments[s];if(this.fnMap.has(e)){const i=this.fnMap.get(e);if(i.threshold!==r){i.fn(...i.args),clearTimeout(i.timer);const s=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:s,args:o,skipFn:n})}else i.skipFn&&i.skipFn(...i.args),this.fnMap.set(e,OO(OO({},i),{},{fn:t,args:o,skipFn:n}))}else{const i=window.setTimeout((()=>{const t=this.fnMap.get(e);t&&t.fn(...t.args),this.fnMap.delete(e)}),r);this.fnMap.set(e,{fn:t,threshold:r,timer:i,args:o,skipFn:n})}}},xO=MO.throttleByKey.bind(MO),kO={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};let FO=0,VO=0;function BO(t,e,r,n){return new Promise(((i,o)=>{e.responseType=e.responseType||"json",e.data&&!r?(e.data=JSON.stringify(e.data),FO+=vO(e.data)):r&&(e.data.size?FO+=e.data.size:e.data instanceof FormData?FO+=function(t){let e=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&t.realFormData&&(t=t.realFormData),t.forEach((t=>{e+="string"==typeof t?vO(t):t.size})),e+138}(e.data):FO+=vO(JSON.stringify(e.data))),e.headers=e.headers||{},e.headers["Content-Type"]=e.headers["Content-Type"]||"application/json",e.method="POST",e.url=t,fO.request(e).then((t=>{"string"==typeof t.data?VO+=vO(t.data):t.data instanceof ArrayBuffer||t.data instanceof Uint8Array?VO+=t.data.byteLength:VO+=vO(JSON.stringify(t.data)),n&&i({data:t.data,headers:t.headers}),i(t.data)})).catch((t=>{fO.isCancel(t)?o(new mO(AO.OPERATION_ABORTED,"cancel token canceled")):"ECONNABORTED"===t.code?o(new mO(AO.NETWORK_TIMEOUT,t.message)):t.response?o(new mO(AO.NETWORK_RESPONSE_ERROR,t.response.status)):o(new mO(AO.NETWORK_ERROR,t.message))}))}))}async function WO(t,e){const r=new Blob([e.data],{type:"buffer"});return await BO(t,OO(OO({},e),{},{data:r,headers:{"Content-Type":"application/octet-stream"}}),!0)}!function(t){t.BANDWIDTH="bandwidth",t.CPU="cpu",t.NONE="none",t.OTHER="other"}({}),function(t){t.L1T1="L1T1",t.L1T2="L1T2",t.L1T3="L1T3",t.L1T3_KEY="L1T3_KEY",t.L2T1_KEY="L2T1_KEY",t.L2T2_KEY="L2T2_KEY",t.L2T3_KEY="L2T3_KEY",t.L3T1_KEY="L3T1_KEY",t.L3T2_KEY="L3T2_KEY",t.L3T3_KEY="L3T3_KEY"}({}),function(t){t[t.new=0]="new",t[t.connecting=1]="connecting",t[t.connected=2]="connected",t[t.disconnected=3]="disconnected",t[t.failed=4]="failed",t[t.closed=5]="closed"}({}),function(t){t.CERTIFICATE="certificate",t.CODEC="codec",t.CANDIDATE_PAIR="candidate-pair",t.LOCAL_CANDIDATE="local-candidate",t.REMOTE_CANDIDATE="remote-candidate",t.INBOUND="inbound-rtp",t.TRACK="track",t.OUTBOUND="outbound-rtp",t.PC="peer-connection",t.REMOTE_INBOUND="remote-inbound-rtp",t.REMOTE_OUTBOUND="remote-outbound-rtp",t.TRANSPORT="transport",t.CSRC="csrc",t.DATA_CHANNEL="data-channel",t.STREAM="stream",t.SENDER="sender",t.RECEIVER="receiver"}({});var GO=function(t){return t[t.kNone=1]="kNone",t[t.kMillisecondsFromSeconds=1e3]="kMillisecondsFromSeconds",t[t.kBytesToBits=8]="kBytesToBits",t}(GO||{});const jO="websdk_ng_install_id";function HO(){try{if(qO("INSTALL_ID"))return qO("INSTALL_ID");let t=window.localStorage.getItem(jO);return t||(t=UO(),window.localStorage.setItem(jO,t)),XO("INSTALL_ID",t),t}catch(t){return}}const KO=function(t){if(t.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return t;const e=t.match(/([0-9]+\.[0-9]+\.[0-9]+)\-([0-9]+)/);if(e&&e[1]&&e[2]){const t=e[1],r=e[2];return"".concat(t,".").concat(r)}return"4.0.0.999"}("4.23.1"),YO=function(){try{return!0===JSON.parse("true")}catch(t){return!0}}();!function(t){t.Default="default",t.Auto="auto",t.Relay="relay",t.SdRtn="sd-rtn"}({});const zO=function(){const t="us".concat("erna","me"),e="pa".concat("sswo","rd"),r=["t","s","t"];r.splice(1,0,"e");const n=r.join(""),i=[];for(let t=0;t<6;t++)i.push("1");const o=i.join(""),s={};return s[t]=n,s[e]=o,Object.assign(s,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=zO;const JO=OO(OO(OO({},{ENABLE_EVENT_REPORT:!0,UPLOAD_LOG:!1,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,ENABLE_PRELOAD:!0,NEW_ICE_RESTART:!1,ICE_RESTART_INTERVAL:1e4,RESTART_SEQUENCE:["udp_tcp_relay","relay"]}),{},{PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,SHOW_REPORT_USER_INVOKER_LOG:!0,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,FIRST_H264_PROFILE_LEVEL_ID:"42001f",FIRST_PACKETIZATION_MODE:"",X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,FINGERPRINT:null,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,ENABLE_AUDIO_TOPN:!1,ENABLE_AUDIO_METADATA:!1,TOPN_SMOOTH_LEVEL:void 0,TOPN_NEW_SPEAKER_DELAY:void 0,TOPN_SWITCH_HOLD_MS:void 0,TOPN_AUDIO_GAIN:void 0,TOPN_SILENCE_THRESHOLD:250,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:{MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},CUSTOM_ADAPTATION_DEFAULT_MODE:"",HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,DISABLE_SCREEN_SHARE_REMB:!1},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC_DEFAULT_CODECS:["H264","VP8","VP9","AV1"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_AUT_FEEDBACK:!1,SVC_EXTENDED:["VP9"]}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1,AP_REQUEST_DETAIL:void 0,ENABLE_ROLE_SELECT_EDGE:!1,CLIENT_ROLE_OPTIONS:void 0,COMPATIBLE_SDP_EXTENSION:["gdpr_forbidden"],LIMIT_BITRATE:void 0,EXPERIMENTS:{},USE_PUB_RTX:!0,USE_SUB_RTX:!0,ENABLE_DATASTREAM_2:!1,USE_XR:!0,ENABLE_PREALLOC_PC:!1,ENABLE_PRE_SUB:!1,ENABLE_SVC:!1},{INSTALL_ID:""});function XO(t,e,r){var n;Object.keys(JO).includes(t)&&(!r&&Object.keys(QO).includes(t)||(JO[t]=e,"ENABLE_VIDEO_SEI"!==t&&"ENABLE_AUDIO_TOPN"!==t&&"ENABLE_AUDIO_METADATA"!==t||!0!==e||(JO.ENABLE_ENCODED_TRANSFORM=!0),"USE_NEW_NETWORK_CONFIG"===t&&e&&(n=!!e,JO.USE_NEW_NETWORK_CONFIG=n,n&&(JO.WEBCS_DOMAIN=["webrtc2-2.ap.sd-rtn.com"],JO.WEBCS_DOMAIN_BACKUP_LIST=["webrtc2-4.ap.sd-rtn.com"],JO.CDS_AP=["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],JO.ACCOUNT_REGISTER=["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],JO.EVENT_REPORT_DOMAIN="web-2.statscollector.sd-rtn.com",JO.EVENT_REPORT_BACKUP_DOMAIN="statscollector-1.agora.io",JO.GATEWAY_DOMAINS=["edge.sd-rtn.com"])),"ENABLE_PRE_SUB"===t&&e&&(JO.ENABLE_INSTANT_VIDEO=!0,JO.ENABLE_PREALLOC_PC=!0),"ENABLE_SVC"===t&&e&&(JO.ENABLE_AUT_CC=!0)))}function qO(t){return JO[t]}YO||(JO.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],JO.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],JO.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],JO.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],JO.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],JO.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],JO.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",JO.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",JO.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",JO.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",JO.AREAS=["NORTH_AMERICA","OVERSEA"]),function(t){t[t.REALTIME=1]="REALTIME"}({});const QO={};var ZO=function(t){return t.SET_SESSION_ID="SET_SESSION_ID",t.SET_P2P_ID="SET_P2P_id",t.SET_DC_ID="SET_DC_id",t.SET_UID="SET_UID",t.SET_INT_UID="SET_INT_UID",t.SET_PUB_ID="SET_PUB_ID",t.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",t.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",t.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",t.AVOID_JOIN_START="AVOID_JOIN_START",t.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",t.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",t.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",t.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",t.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",t.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",t.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",t.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",t.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",t.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",t.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",t.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",t.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",t.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",t.RESET_KEY_METRICS="RESET_KEY_METRICS",t.SET_USE_P2P="SET_USE_P2P",t.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE",t}(ZO||{});!function(t){t.h264="h264",t.h265="h265",t.vp8="vp8",t.vp9="vp9",t.av1="av1"}({}),function(t){t.opus="opus",t.pcma="pcma",t.pcmu="pcmu",t.g722="g722"}({}),(()=>{var t={8:(t,e,r)=>{r.r(e),r.d(e,{Parser:()=>S,Printer:()=>C,parse:()=>v,print:()=>P});const n="\n",i="".concat("\r").concat(n),o=" ";let s;function a(t){return t>="0"&&t<="9"}function c(t){return t>="!"&&t<="~"}function u(t){return c(t)||t>="Â"&&t<="Ã¿"}function E(t){return"!"===t||t>="#"&&t<="'"||t>="*"&&t<="+"||t>="-"&&t<="."||t>="0"&&t<="9"||t>="A"&&t<="Z"||t>="^"&&t<="~"}function l(t){return t>="1"&&t<="9"}function p(t){return t>="A"&&t<="Z"||t>="a"&&t<="z"}function d(t){return"d"===t||"h"===t||"m"===t||"s"===t}function h(t){return t>""&&t<"\t"||t>"\v"&&t<"\f"||t>""&&t<"Ã¿"}function _(t){return p(t)||a(t)||"+"===t||"/"===t}function f(t){return a(t)||p(t)||"+"===t||"/"===t||"-"===t||"_"===t}function T(t){return p(t)||a(t)||"+"===t||"/"===t}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){t.VERSION="v",t.ORIGIN="o",t.SESSION_NAME="s",t.INFORMATION="i",t.URI="u",t.EMAIL="e",t.PHONE="p",t.CONNECTION="c",t.BANDWIDTH="b",t.TIME="t",t.REPEAT="r",t.ZONE_ADJUSTMENTS="z",t.KEY="k",t.ATTRIBUTE="a",t.MEDIA="m"}(s||(s={}));class m{consumeText(t,e){let r=e;for(;r<t.length;){const e=t[r];if("\0"===e||"\r"===e||e===n)break;r+=1}if(r-e==0)throw new Error("Invalid text, at ".concat(t));return r}consumeUnicastAddress(t,e,r){return this.consumeTill(t,e,o)}consumeOneOrMore(t,e,r){let n=e;for(;r(t[n]);)n++;if(n-e==0)throw new Error("Invalid rule at ".concat(e,"."));return n}consumeSpace(t,e){if(t[e]===o)return e+1;throw new Error("Invalid space at ".concat(e,"."))}consumeIP4Address(t,e){let r=e;for(let e=0;e<4;e++)if(r=this.consumeDecimalUChar(t,r),3!==e){if("."!==t[r])throw new Error("Invalid IP4 address.");r++}return r}consumeDecimalUChar(t,e){let r=e;for(let e=0;e<3&&a(t[r]);e++,r++);if(r-e==0)throw new Error("Invalid decimal uchar.");const n=parseInt(t.slice(e,r));if(n>=0&&n<=255)return r;throw new Error("Invalid decimal uchar")}consumeIP6Address(t,e){let r=this.consumeHexpart(t,e);return":"===t[r]?(r+=1,r=this.consumeIP4Address(t,r),r):r}consumeHexpart(t,e){let r=e;if(":"===t[r]&&":"===t[r+1]){r+=2;try{r=this.consumeHexseq(t,r)}catch(t){}return r}if(r=this.consumeHexseq(t,r),":"===t[r]&&":"===t[r+1]){r+=2;try{r=this.consumeHexseq(t,r)}catch(t){}return r}return r}consumeHexseq(t,e){let r=e;for(;r=this.consumeHex4(t,r),":"===t[r]&&":"!==t[r+1];)r+=1;return r}consumeHex4(t,e){let r=0;for(;r<4;r++)if(!((n=t[e+r])>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F")){if(0===r)throw new Error("Invalid hex 4");break}var n;return e+r}consumeFQDN(t,e){let r=e;for(;a(t[r])||p(t[r])||"-"===t[r]||"."===t[r];)r+=1;if(r-e<4)throw new Error("Invalid FQDN");return r}consumeExtnAddr(t,e){return this.consumeOneOrMore(t,e,u)}consumeMulticastAddress(t,e,r){switch(r){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(t,e);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(t,e);default:try{return this.consumeFQDN(t,e)}catch(r){return this.consumeExtnAddr(t,e)}}}consumeIP6MulticastAddress(t,e){const r=this.consumeHexpart(t,e);return"/"===t[r]?this.consumeInteger(t,r+1):r}consumeIP4MulticastAddress(t,e){let r=e+3;const n=t.slice(e,r),i=parseInt(n);if(i<224||i>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let e=0;e<3;e++){if("."!==t[r])throw new Error("Invalid IP4 multicast address.");r+=1,r=this.consumeDecimalUChar(t,r)}return"/"===t[r]&&(r+=1),r=this.consumeTTL(t,r),"/"===t[r]&&(r=this.consumeInteger(t,r)),r}consumeInteger(t,e){if(!l(t[e]))throw new Error("Invalid integer.");for(e+=1;a(t[e]);)e+=1;return e}consumeTTL(t,e){if("0"===t[e])return e+1;if(!l(t[e]))throw new Error("Invalid TTL.");e+=1;for(let r=0;r<2&&a(t[e]);r++)e+=1;return e}consumeToken(t,e){return this.consumeOneOrMore(t,e,E)}consumeTime(t,e){let r=e;if("0"===t[r])return r+1;for(l(t[r])&&(r+=1);a(t[r]);)r++;if(r-e<10)throw new Error("Invalid time");return r}consumeAddress(t,e){return this.consumeTill(t,e,o)}consumeTypedTime(t,e){let r=e;return r=this.consumeOneOrMore(t,r,a),d(t[r])?r+1:r}consumeRepeatInterval(t,e){if(!l(t[e]))throw new Error("Invalid repeat interval");for(e+=1;a(t[e]);)e+=1;return d(t[e])&&(e+=1),e}consumePort(t,e){return this.consumeOneOrMore(t,e,a)}consume(t,e,r){for(let n=0;n<r.length;n++){if(e+n>=t.length)throw new Error("consume exceeding value length");if(t[e+n]!==r[n])throw new Error("consume ".concat(r," failed at ").concat(n))}return e+r.length}consumeTill(t,e,r){let n=e;for(;n<t.length&&("string"!=typeof r||t[n]!==r)&&("function"!=typeof r||!r(t[n]));)n++;return n}}class S extends m{constructor(){super(),A(this,"records",[]),A(this,"currentLine",0)}parse(t){const e=this.probeEOL(t);this.records=t.split(e).filter((t=>!!t.trim())).map(this.parseLine),this.currentLine=0;const r=this.parseVersion(),n=this.parseOrigin(),i=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),u=this.parseConnection(),E=this.parseBandWidth(),l=this.parseTimeFields(),p=this.parseKey(),d=this.parseSessionAttribute(),h=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:r,origin:n,sessionName:i,information:o,uri:s,emails:a,phones:c,connection:u,bandwidths:E,timeFields:l,key:p,attributes:d,mediaDescriptions:h}}getCurrentRecord(){const t=this.records[this.currentLine];if(!t)throw new Error("Record doesn't exit.");return t}probeEOL(t){for(let e=0;e<t.length;e++)if(t[e]===n)return"\r"===t[e-1]?i:n;throw new Error("Invalid newline character.")}parseLine(t,e){if(t.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const r=t[0];if("="!==t[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:r,value:t.slice(2),line:e,cur:0}}parseSessionAttribute(){const t=new g;for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(e,(t=>E(t)&&":"!==t)),_cur:0};":"===e.value[e.cur]&&(e.cur+=1,r.attValue=this.extractOneOrMore(e,h)),t.parse(r),this.currentLine++}return t.digest()}parseMediaAttributes(t){const e=new N(t);for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const r={attField:this.extractOneOrMore(t,(t=>E(t)&&":"!==t)),_cur:0};":"===t.value[t.cur]&&(t.cur+=1,r.attValue=this.extractOneOrMore(t,h)),e.parse(r),this.currentLine++}return e.digest()}parseKey(){const t=this.getCurrentRecord();if(t.type===s.KEY){if("prompt"===t.value||"clear:"===t.value||"base64:"===t.value||"uri:"===t.value)return t.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const t=this.getCurrentRecord();if(t.type===s.ZONE_ADJUSTMENTS){const e=[];for(;;)try{const r=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);let n=!1;"-"===t.value[t.cur]&&(n=!0,t.cur+=1);const i=this.extract(t,this.consumeTypedTime);e.push({time:r,typedTime:i,back:n})}catch(t){break}if(0===e.length)throw new Error("Invalid zone adjustments");return this.currentLine++,e}return[]}parseRepeat(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.REPEAT)break;{const r=this.extract(e,this.consumeRepeatInterval),n=this.parseTypedTime(e);t.push({repeatInterval:r,typedTimes:n}),this.currentLine++}}return t}parseTypedTime(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeTypedTime))}catch(t){break}if(0===e.length)throw new Error("Invalid typed time.");return e}parseTime(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeTime);this.consumeSpaceForRecord(t);const r=this.extract(t,this.consumeTime);return this.currentLine++,{startTime:e,stopTime:r}}parseBandWidth(){const t=[];for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.BANDWIDTH)break;{const r=this.extractOneOrMore(e,E);if(":"!==e.value[e.cur])throw new Error("Invalid bandwidth field.");e.cur++;const n=this.extractOneOrMore(e,a);t.push({bwtype:r,bandwidth:n}),this.currentLine++}}return t}parseVersion(){const t=this.getCurrentRecord();if(t.type!==s.VERSION)throw new Error("first sdp record must be version");const e=t.value.slice(0,this.consumeOneOrMore(t.value,0,a));if(e.length!==t.value.length)throw new Error('invalid proto version, "v='.concat(t.value,'"'));return this.currentLine++,e}parseOrigin(){const t=this.getCurrentRecord();if(t.type!==s.ORIGIN)throw new Error("second line of sdp must be origin");const e=this.extractOneOrMore(t,u);this.consumeSpaceForRecord(t);const r=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const n=this.extractOneOrMore(t,a);this.consumeSpaceForRecord(t);const i=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const o=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const c=this.extract(t,this.consumeUnicastAddress);return this.currentLine++,{username:e,sessId:r,sessVersion:n,nettype:i,addrtype:o,unicastAddress:c}}parseSessionName(){const t=this.getCurrentRecord();if(t.type===s.SESSION_NAME){const e=this.extract(t,this.consumeText);return this.currentLine++,e}}parseInformation(){const t=this.getCurrentRecord();if(t.type!==s.INFORMATION)return;const e=this.extract(t,this.consumeText);return this.currentLine++,e}parseUri(){const t=this.getCurrentRecord();if(t.type===s.URI)return this.currentLine++,t.value}parseEmail(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.EMAIL)break;t.push(e.value),this.currentLine++}return t}parsePhone(){const t=[];for(;;){const e=this.getCurrentRecord();if(e.type!==s.PHONE)break;t.push(e.value),this.currentLine++}return t}parseConnection(){const t=this.getCurrentRecord();if(t.type===s.CONNECTION){const e=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const r=this.extractOneOrMore(t,E);this.consumeSpaceForRecord(t);const n=this.extract(t,this.consumeAddress);return this.currentLine++,{nettype:e,addrtype:r,address:n}}}parseMedia(){const t=this.getCurrentRecord(),e=this.extract(t,this.consumeToken);this.consumeSpaceForRecord(t);let r=this.extract(t,this.consumePort);"/"===t.value[t.cur]&&(t.cur+=1,r+=this.extract(t,this.consumeInteger)),this.consumeSpaceForRecord(t);const n=[];for(n.push(this.extract(t,this.consumeToken));"/"===t.value[t.cur];)t.cur+=1,n.push(this.extract(t,this.consumeToken));if(0===n.length)throw new Error("Invalid proto");const i=this.parseFmt(t);return this.currentLine++,{mediaType:e,port:r,protos:n,fmts:i}}parseTimeFields(){const t=[];for(;this.getCurrentRecord().type===s.TIME;){const e=this.parseTime(),r=this.parseRepeat(),n=this.parseZone();t.push({time:e,repeats:r,zones:n})}return t}parseMediaDescription(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const e=this.parseMedia(),r=this.parseInformation(),n=this.parseConnections(),i=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(e);t.push({media:e,information:r,connections:n,bandwidths:i,key:o,attributes:s})}return t}parseConnections(){const t=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)t.push(this.parseConnection());return t}parseFmt(t){const e=[];for(;;)try{this.consumeSpaceForRecord(t),e.push(this.extract(t,this.consumeToken))}catch(t){break}if(0===e.length)throw new Error("Invalid fmts");return e}extract(t,e,...r){const n=e.call(this,t.value,t.cur,...r),i=t.value.slice(t.cur,n);return t.cur=n,i}extractOneOrMore(t,e){const r=this.consumeOneOrMore(t.value,t.cur,e),n=t.value.slice(t.cur,r);return t.cur=r,n}consumeSpaceForRecord(t){if(t.value[t.cur]!==o)throw new Error("Invalid space at ".concat(t.cur,"."));t.cur+=1}}class I extends m{constructor(...t){super(...t),A(this,"attributes",void 0),A(this,"digested",!1)}extractOneOrMore(t,e,r){const n=this.consumeOneOrMore(t.attValue,t._cur,e),i=t.attValue.slice(t._cur,n),[o,s]=r||[];if("number"==typeof o&&i.length<o)throw new Error("error in length, should be more or equal than ".concat(o," characters."));if("number"==typeof s&&i.length>s)throw new Error("error in length, should be less or equal than ".concat(s," characters."));return t._cur=n,i}consumeAttributeSpace(t){if(t.attValue[t._cur]!==o)throw new Error("Invalid space at ".concat(t._cur,"."));t._cur+=1}extract(t,e,...r){if(!t.attValue)throw new Error("Nothing to extract from attValue.");const n=e.call(this,t.attValue,t._cur,...r),i=t.attValue.slice(t._cur,n);return t._cur=n,i}atEnd(t){if(!t.attValue)throw new Error;return t._cur>=t.attValue.length}peekChar(t){if(!t.attValue)throw new Error;return t.attValue[t._cur]}peek(t,e){if(!t.attValue)throw new Error;for(let r=0;r<e.length;r++)if(e[r]!==t.attValue[t._cur+r])return!1;return!0}parseIceUfrag(t){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(t,_,[4,256])}parseIcePwd(t){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(t,_,[22,256])}parseIceOptions(t){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const e=[];for(;!this.atEnd(t);){e.push(this.extractOneOrMore(t,_));try{this.consumeAttributeSpace(t)}catch(e){if(this.atEnd(t))break;throw e}}this.attributes.iceOptions=e}parseFingerprint(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill);this.attributes.fingerprints.push({hashFunction:e,fingerprint:r})}parseExtmap(t){const e=this.extractOneOrMore(t,a);let r;"/"===this.peekChar(t)&&(this.extract(t,this.consume,"/"),r=this.extract(t,this.consumeToken)),this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeTill,o),i=O(O({entry:parseInt(e,10)},r&&{direction:r}),{},{extensionName:n});this.peekChar(t)===o&&(this.consumeAttributeSpace(t),i.extensionAttributes=this.extract(t,this.consumeTill)),this.attributes.extmaps.push(i)}parseSetup(t){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const e=this.extract(t,this.consumeTill);if("active"!==e&&"passive"!==e&&"actpass"!==e&&"holdconn"!==e)throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=e}}class g extends I{constructor(...t){super(...t),A(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"group":this.parseGroup(t);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"fingerprint":this.parseFingerprint(t);break;case"setup":this.parseSetup(t);break;case"tls-id":this.parseTlsId(t);break;case"identity":this.parseIdentity(t);break;case"extmap":this.parseExtmap(t);break;case"msid-semantic":this.parseMsidSemantic(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing session attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(t){const e=this.extract(t,this.consumeToken),r=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;)this.consumeAttributeSpace(t),r.push(this.extract(t,this.consumeToken));this.attributes.groups.push({semantic:e,identificationTag:r})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(t){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(t,f)}parseIdentity(t){const e=this.extractOneOrMore(t,T),r=[];for(;!this.atEnd(t)&&this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.extract(t,this.consume,"=");const n=this.extractOneOrMore(t,(t=>t!==o&&h(t)));r.push({name:e,value:n})}this.attributes.identities.push({assertionValue:e,extensions:r})}parseMsidSemantic(t){this.peekChar(t)===o&&this.consumeAttributeSpace(t);const e={semantic:this.extract(t,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(t)}catch(t){break}if("*"===this.peekChar(t)){this.extract(t,this.consume,"*"),e.applyForAll=!0;break}{const r=this.extract(t,this.consumeTill,o);e.identifierList.push(r)}}this.attributes.msidSemantic=e}}class N extends I{constructor(t){super(),A(this,"attributes",void 0),-1!==t.protos.indexOf("RTP")||t.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(t){if(this.digested)throw new Error("already digested");try{switch(t.attField){case"extmap":this.parseExtmap(t);break;case"setup":this.parseSetup(t);break;case"ice-ufrag":this.parseIceUfrag(t);break;case"ice-pwd":this.parseIcePwd(t);break;case"ice-options":this.parseIceOptions(t);break;case"candidate":this.parseCandidate(t);break;case"remote-candidate":this.parseRemoteCandidate(t);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(t);break;case"rtpmap":this.parseRtpmap(t);break;case"ptime":this.parsePtime(t);break;case"maxptime":this.parseMaxPtime(t);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(t);break;case"ssrc":this.parseSSRC(t);break;case"fmtp":this.parseFmtp(t);break;case"rtcp-fb":this.parseRtcpFb(t);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(t);break;case"mid":this.parseMid(t);break;case"msid":this.parseMsid(t);break;case"imageattr":this.parseImageAttr(t);break;case"rid":this.parseRid(t);break;case"simulcast":this.parseSimulcast(t);break;case"sctp-port":this.parseSctpPort(t);break;case"max-message-size":this.parseMaxMessageSize(t);break;case"ssrc-group":this.parseSSRCGroup(t);break;default:t.ignored=!0,this.attributes.unrecognized.push(t)}}catch(e){throw console.error("parsing media attribute ".concat(t.attField,' error, "a=').concat(t.attField,":").concat(t.attValue,'"')),e}if(!t.ignored&&t.attValue&&!this.atEnd(t))throw new Error("attribute parsing error")}parseCandidate(t){const e=this.extractOneOrMore(t,_,[1,32]);this.consumeAttributeSpace(t);const r=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const i=this.extractOneOrMore(t,a,[1,10]);this.consumeAttributeSpace(t);const s=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const u=this.extract(t,this.consumePort);this.consumeAttributeSpace(t),this.extract(t,this.consume,"typ"),this.consumeAttributeSpace(t);const E={foundation:e,componentId:r,transport:n,priority:i,connectionAddress:s,port:u,type:this.extract(t,this.consumeToken),extension:{}};for(this.peek(t," raddr")&&(this.extract(t,this.consume," raddr"),this.consumeAttributeSpace(t),E.relAddr=this.extract(t,this.consumeAddress)),this.peek(t," rport")&&(this.extract(t,this.consume," rport"),this.consumeAttributeSpace(t),E.relPort=this.extract(t,this.consumePort));this.peekChar(t)===o;){this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t),E.extension[e]=this.extractOneOrMore(t,c)}this.attributes.candidates.push(E)}parseRemoteCandidate(t){const e=[];for(;;){const r=this.extractOneOrMore(t,a,[1,5]);this.consumeAttributeSpace(t);const n=this.extract(t,this.consumeAddress);this.consumeAttributeSpace(t);const i=this.extract(t,this.consumePort);e.push({componentId:r,connectionAddress:n,port:i});try{this.consumeAttributeSpace(t)}catch(t){break}}this.attributes.remoteCandidatesList.push(e)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(t){const e=this.extract(t,this.consumeToken);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,"/");this.extract(t,this.consume,"/");const n={encodingName:r,clockRate:this.extractOneOrMore(t,a)};this.atEnd(t)||"/"!==this.peekChar(t)||(this.extract(t,this.consume,"/"),n.encodingParameters=parseInt(this.extract(t,this.consumeTill),10));const i=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));i?i.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(e,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(t){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(t,this.consumeTill)}parseMaxPtime(t){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(t,this.consumeTill)}parseDirection(t){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=t.attField}parseSSRC(t){const e=this.extractOneOrMore(t,a);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,":");let n;":"===this.peekChar(t)&&(this.extract(t,this.consume,":"),n=this.extract(t,this.consumeTill));const i=this.attributes.ssrcs.find((t=>t.ssrcId===parseInt(e,10)));i?i.attributes[r]=n:this.attributes.ssrcs.push({ssrcId:parseInt(e,10),attributes:{[r]:n}})}parseFmtp(t){const e=this.extract(t,this.consumeTill,o);this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill),n={};r.split(";").forEach((t=>{let[e,r]=t.split("=");e=e.trim();const i="string"==typeof r?r.trim():null;"string"==typeof e&&e.length>0&&(n[e]=i)}));const i=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));i?i.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(t){const e={},r=this.extract(t,this.consumeTill,"=");t._cur++;const n=this.extract(t,this.consumeTill,";");for(e[r]=n;";"===t.attValue[t._cur];){const r=this.extract(t,this.consumeTill,"=");t._cur++;const n=this.extract(t,this.consumeTill,";");e[r]=n}return e}parseRtcpFb(t){let e="";e="*"===this.peekChar(t)?this.extract(t,this.consume,"*"):this.extract(t,this.consumeTill,o),this.consumeAttributeSpace(t);const r=this.extract(t,this.consumeTill,o);let n;if("trr-int"===r)n={type:r,interval:this.extract(t,this.consumeTill)};else{const e={type:r};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.parameter=this.extract(t,this.consumeToken),this.peekChar(t)===o&&(e.additional=this.extract(t,this.consumeTill))),n=e}if("*"===e)this.attributes.rtcpFeedbackWildcards.push(n);else{const t=this.attributes.payloads.find((t=>t.payloadType===parseInt(e,10)));t?t.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(e,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(t){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const e={port:this.extract(t,this.consumePort)};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.netType=this.extractOneOrMore(t,E),this.consumeAttributeSpace(t),e.addressType=this.extractOneOrMore(t,E),this.consumeAttributeSpace(t),e.address=this.extract(t,this.consumeAddress)),this.attributes.rtcp=e}parseMsid(t){const e={id:this.extractOneOrMore(t,E,[1,64])};this.peekChar(t)===o&&(this.consumeAttributeSpace(t),e.appdata=this.extractOneOrMore(t,E,[1,64])),this.attributes.msids.push(e)}parseImageAttr(t){this.attributes.imageattr.push(t.attValue)}parseRid(t){const e=this.extractOneOrMore(t,(t=>p(t)||a(t)||"_"===t||"-"===t));this.consumeAttributeSpace(t);const r={id:e,direction:this.extract(t,this.consumeToken),params:[]};if(this.peekChar(t)===o){if(this.consumeAttributeSpace(t),this.peek(t,"pt=")){this.extract(t,this.consume,"pt=");const e=[];for(;;){const r=this.extract(t,this.consumeToken);e.push(r);try{this.extract(t,this.consume,",")}catch(t){break}}r.payloads=e,this.peekChar(t)===o&&this.extract(t,this.consume,o)}for(;;){const e=this.extract(t,this.consumeToken);switch(e){case"depend":{const n={type:e,rids:this.extract(t,this.consume,"=").split(",")};r.params.push(n);break}default:{const n={type:e};"="===this.peekChar(t)&&(this.extract(t,this.consume,"="),n.val=this.extract(t,this.consumeTill,";")),r.params.push(n)}}try{this.extract(t,this.consume,";")}catch(t){break}}}this.attributes.rids.push(r)}parseSimulcast(t){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=t.attValue,this.extract(t,this.consumeTill)}parseSctpPort(t){this.attributes.sctpPort=this.extractOneOrMore(t,a,[1,5])}parseMaxMessageSize(t){this.attributes.maxMessageSize=this.extractOneOrMore(t,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(t){this.attributes.mid=this.extract(t,this.consumeToken)}parseSSRCGroup(t){const e=this.extract(t,this.consumeToken),r=[];for(;;)try{this.consumeAttributeSpace(t);const e=this.extract(t,this.consumeInteger);r.push(parseInt(e,10))}catch(t){break}this.attributes.ssrcGroups.push({semantic:e,ssrcIds:r})}}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class C{constructor(){b(this,"eol",i)}print(t,e){let r="";return e&&(this.eol=e),r+=this.printVersion(t.version),r+=this.printOrigin(t.origin),r+=this.printSessionName(t.sessionName),r+=this.printInformation(t.information),r+=this.printUri(t.uri),r+=this.printEmail(t.emails),r+=this.printPhone(t.phones),r+=this.printConnection(t.connection),r+=this.printBandwidth(t.bandwidths),r+=this.printTimeFields(t.timeFields),r+=this.printKey(t.key),r+=this.printSessionAttributes(t.attributes),r+=this.printMediaDescription(t.mediaDescriptions),r}printVersion(t){return"v=".concat(t).concat(this.eol)}printOrigin(t){return"o=".concat(t.username," ").concat(t.sessId," ").concat(t.sessVersion," ").concat(t.nettype," ").concat(t.addrtype," ").concat(t.unicastAddress).concat(this.eol)}printSessionName(t){return t?"s=".concat(t).concat(this.eol):""}printInformation(t){return t?"i=".concat(t).concat(this.eol):""}printUri(t){return t?"u=".concat(t).concat(this.eol):""}printEmail(t){let e="";for(const r of t)e+="e=".concat(r).concat(this.eol);return e}printPhone(t){let e="";for(const r of t)e+="e=".concat(r).concat(this.eol);return e}printConnection(t){return t?"c=".concat(t.nettype," ").concat(t.addrtype," ").concat(t.address).concat(this.eol):""}printBandwidth(t){let e="";for(const r of t)e+="b=".concat(r.bwtype,":").concat(r.bandwidth).concat(this.eol);return e}printTimeFields(t){let e="";for(const r of t){e+="t=".concat(r.time.startTime," ").concat(r.time.startTime).concat(this.eol);for(const t of r.repeats)e+="r=".concat(t.repeatInterval," ").concat(t.typedTimes.join(" ")).concat(this.eol);r.zoneAdjustments&&(e+="z=",e+="z=".concat(r.zoneAdjustments.map((t=>"".concat(t.time," ").concat(t.back?"-":""," ").concat(t.typedTime))).join(" ")).concat(this.eol),e+=this.eol)}return e}printKey(t){return t?"k=".concat(t).concat(this.eol):""}printAttributes(t){let e="";for(const r of t)e+="a=".concat(r.attField).concat(r.attValue?":".concat(r.attValue):"").concat(this.eol);return e}printMediaDescription(t){let e="";for(const r of t)e+=this.printMedia(r.media),e+=this.printInformation(r.information),e+=this.printConnections(r.connections),e+=this.printBandwidth(r.bandwidths),e+=this.printKey(r.key),e+=this.printMediaAttributes(r);return e}printConnections(t){let e="";for(const r of t)e+=this.printConnection(r);return e}printMedia(t){return"m=".concat(t.mediaType," ").concat(t.port," ").concat(t.protos.join("/")," ").concat(t.fmts.join(" ")).concat(this.eol)}printSessionAttributes(t){return new w(this.eol).print(t)}printMediaAttributes(t){return new L(this.eol).print(t)}}class y{constructor(t){b(this,"eol",void 0),this.eol=t}printIceUfrag(t){return void 0===t?"":"a=ice-ufrag:".concat(t).concat(this.eol)}printIcePwd(t){return void 0===t?"":"a=ice-pwd:".concat(t).concat(this.eol)}printIceOptions(t){return void 0===t?"":"a=ice-options:".concat(t.join(o)).concat(this.eol)}printFingerprints(t){return t.length>0?t.map((t=>"a=fingerprint:".concat(t.hashFunction).concat(o).concat(t.fingerprint))).join(this.eol)+this.eol:""}printExtmap(t){return t.map((t=>"a=extmap:".concat(t.entry).concat(t.direction?"/".concat(t.direction):"").concat(o).concat(t.extensionName).concat(t.extensionAttributes?"".concat(o).concat(t.extensionAttributes):"").concat(this.eol))).join("")}printSetup(t){return void 0===t?"":"a=setup:".concat(t).concat(this.eol)}printUnrecognized(t){return t.map((t=>"a=".concat(t.attField).concat(t.attValue?":".concat(t.attValue):"").concat(this.eol))).join("")}}class w extends y{print(t){let e="";return e+=this.printGroups(t.groups),e+=this.printMsidSemantic(t.msidSemantic),e+=this.printIceLite(t.iceLite),e+=this.printIceUfrag(t.iceUfrag),e+=this.printIcePwd(t.icePwd),e+=this.printIceOptions(t.iceOptions),e+=this.printFingerprints(t.fingerprints),e+=this.printSetup(t.setup),e+=this.printTlsId(t.tlsId),e+=this.printIdentity(t.identities),e+=this.printExtmap(t.extmaps),e+=this.printUnrecognized(t.unrecognized),e}printGroups(t){let e="";return t.length>0&&(e+=t.map((t=>"a=group:".concat(t.semantic).concat(t.identificationTag.map((t=>"".concat(o).concat(t))).join("")).concat(this.eol))).join("")),e}printIceLite(t){return void 0===t?"":"a=ice-lite"+this.eol}printTlsId(t){return t?"a=tls-id:".concat(t).concat(this.eol):""}printIdentity(t){return 0===t.length?"":t.map((t=>"a=identity:".concat(t.assertionValue).concat(t.extensions.map((t=>"".concat(o).concat(t.name).concat(t.value?"=".concat(t.value):"")))))).join(this.eol)+this.eol}printMsidSemantic(t){if(!t)return"";let e="a=msid-semantic:".concat(t.semantic);return t.applyForAll?e+="".concat(o,"*"):t.identifierList.length>0&&(e+=t.identifierList.map((t=>"".concat(o).concat(t)))),e+this.eol}}class L extends y{print(t){const e=t.attributes;let r="";return r+=this.printRTCP(e.rtcp),r+=this.printIceUfrag(e.iceUfrag),r+=this.printIcePwd(e.icePwd),r+=this.printIceOptions(e.iceOptions),r+=this.printCandidates(e.candidates),r+=this.printRemoteCandidatesList(e.remoteCandidatesList),r+=this.printEndOfCandidates(e.endOfCandidates),r+=this.printFingerprints(e.fingerprints),r+=this.printSetup(e.setup),r+=this.printMid(e.mid),r+=this.printExtmap(e.extmaps),r+=this.printRTPRelated(e),r+=this.printPtime(e.ptime),r+=this.printMaxPtime(e.maxPtime),r+=this.printDirection(e.direction),r+=this.printSSRCGroups(e.ssrcGroups),r+=this.printSSRC(e.ssrcs),r+=this.printRTCPMux(e.rtcpMux),r+=this.printRTCPMuxOnly(e.rtcpMuxOnly),r+=this.printRTCPRsize(e.rtcpRsize),r+=this.printMSId(e.msids),r+=this.printImageattr(e.imageattr),r+=this.printRid(e.rids),r+=this.printSimulcast(e.simulcast),r+=this.printSCTPPort(e.sctpPort),r+=this.printMaxMessageSize(e.maxMessageSize),r+=this.printUnrecognized(e.unrecognized),r}printCandidates(t){return t.map((t=>"a=candidate:".concat(t.foundation).concat(o).concat(t.componentId).concat(o).concat(t.transport).concat(o).concat(t.priority).concat(o).concat(t.connectionAddress).concat(o).concat(t.port).concat(o,"typ").concat(o).concat(t.type).concat(t.relAddr?"".concat(o,"raddr").concat(o).concat(t.relAddr):"").concat(t.relPort?"".concat(o,"rport").concat(o).concat(t.relPort):"").concat(Object.keys(t.extension).map((e=>"".concat(o).concat(e).concat(o).concat(t.extension[e]))).join("")).concat(this.eol))).join("")}printRemoteCandidatesList(t){return t.map((t=>"a=remote-candidates:".concat(t.join(o)).concat(this.eol))).join("")}printEndOfCandidates(t){return void 0===t?"":"a=end-of-candidates"+this.eol}printRTPRelated(t){if(!t.payloads)return"";const e=t.payloads;let r="";r+=t.rtcpFeedbackWildcards.map((t=>this.printRTCPFeedback("*",t))).join("");for(const t of e)r+=this.printRtpMap(t.payloadType,t.rtpMap),r+=this.printFmtp(t.payloadType,t.fmtp),r+=t.rtcpFeedbacks.map((e=>this.printRTCPFeedback(t.payloadType,e))).join("");return r}printFmtp(t,e){if(!e)return"";const r=Object.keys(e.parameters);return 1===r.length&&null===e.parameters[r[0]]?"a=fmtp:".concat(t).concat(o).concat(r[0]).concat(this.eol):"a=fmtp:".concat(t).concat(o).concat(Object.keys(e.parameters).map((t=>"".concat(t,"=").concat(e.parameters[t]))).join(";")).concat(this.eol)}printRtpMap(t,e){return e?"a=rtpmap:".concat(t).concat(o).concat(e.encodingName,"/").concat(e.clockRate).concat(e.encodingParameters?"/".concat(e.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(t,e){let r="a=rtcp-fb:".concat(t).concat(o),n=e;return"trr-int"===n.type?r+="ttr-int".concat(o).concat(n.interval):(r+="".concat(n.type),n.parameter&&(r+="".concat(o).concat(n.parameter),n.additional&&(r+="".concat(o).concat(n.additional)))),r+this.eol}printPtime(t){return void 0===t?"":"a=ptime:".concat(t).concat(this.eol)}printMaxPtime(t){return void 0===t?"":"a=maxptime:".concat(t).concat(this.eol)}printDirection(t){return void 0===t?"":"a=".concat(t).concat(this.eol)}printSSRC(t){return t.map((t=>Object.keys(t.attributes).map((e=>"a=ssrc:".concat(t.ssrcId.toString(10)).concat(o).concat(e).concat(t.attributes[e]?":".concat(t.attributes[e]):"").concat(this.eol))).join(""))).join("")}printRTCPMux(t){return void 0===t?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(t){return void 0===t?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(t){return void 0===t?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(t){if(void 0===t)return"";let e="a=rtcp:".concat(t.port);return t.netType&&(e+="".concat(o).concat(t.netType)),t.addressType&&(e+="".concat(o).concat(t.addressType)),t.address&&(e+="".concat(o).concat(t.address)),e+this.eol}printMSId(t){return t.map((t=>"a=msid:".concat(t.id).concat(t.appdata?"".concat(o).concat(t.appdata):"").concat(this.eol))).join("")}printImageattr(t){return t.map((t=>"a=imageattr:".concat(t).concat(this.eol))).join("")}printRid(t){return t.map((t=>{let e="a=rid:".concat(t.id).concat(o).concat(t.direction);return t.payloads&&(e+="".concat(o,"pt=").concat(t.payloads.join(","))),t.params.length>0&&(e+="".concat(o).concat(t.params.map((t=>"depend"===t.type?"depend=".concat(t.rids.join(",")):"".concat(t.type,"=").concat(t.val))).join(";"))),e+this.eol})).join("")}printSimulcast(t){return void 0===t?"":"a=simulcast:".concat(t).concat(this.eol)}printSCTPPort(t){return void 0===t?"":"a=sctp-port:".concat(t).concat(this.eol)}printMaxMessageSize(t){return void 0===t?"":"a=max-message-size:".concat(t).concat(this.eol)}printMid(t){return void 0===t?"":"a=mid:".concat(t).concat(this.eol)}printSSRCGroups(t){return t.map((t=>"a=ssrc-group:".concat(t.semantic).concat(t.ssrcIds.map((t=>"".concat(o).concat(t.toString(10)))).join("")).concat(this.eol))).join("")}}function v(t){return(new S).parse(t)}function P(t,e){return(new C).print(t,e)}}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(8)})();const $O=new class extends bO{constructor(){super(...arguments),mE(this,"currentUploadLogID",0)}reportLogUploadError(t){const{errorRange:e}=t;e[e.length-1]&&e[e.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=e[e.length-1],this.emit("REPORT_LOG_UPLOAD",t))}};class tA{constructor(t){mE(this,"logger",void 0),mE(this,"prefixLists",[]),this.logger=t}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.debug(...this.prefixLists,...e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.info(...this.prefixLists,...e)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.warning(...this.prefixLists,...e)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.logger.error(...this.prefixLists,...e)}prefix(t){return this.prefixLists.push(t),this}popPrefix(){return this.prefixLists.pop(),this}}function eA(){const t=new Date;return t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}function rA(){const t=new Date,e=/((\d+:){2}\d+)/.exec((new Date).toUTCString());return e?(null==e?void 0:e[0])+":"+t.getUTCMilliseconds():t.toTimeString().split(" ")[0]+":"+t.getMilliseconds()}const nA={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},iA=Date.now(),oA=t=>{for(const e in nA)if(Object.prototype.hasOwnProperty.call(nA,e)&&nA[e]===t)return e;return"DEFAULT"};class sA{constructor(){mE(this,"proxyServerURL",void 0),mE(this,"logLevel",nA.DEBUG),mE(this,"uploadState","collecting"),mE(this,"uploadLogWaitingList",[]),mE(this,"uploadLogUploadingList",[]),mE(this,"uploadErrorCount",0),mE(this,"currentLogID",0),mE(this,"url",void 0),mE(this,"extLog",((t,e)=>{this.appendLogToWaitingList(t,...e)}))}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[nA.DEBUG].concat(e);this.log.apply(this,n)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[nA.INFO].concat(e);this.log.apply(this,n)}warning(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[nA.WARNING].concat(e);this.log.apply(this,n)}warn(){this.warning(...arguments)}error(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[nA.ERROR].concat(e);this.log.apply(this,n)}upload(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];const n=[nA.DEBUG].concat(e);this.uploadLog.apply(this,n)}setLogLevel(t){t=Math.min(Math.max(0,t),4),this.logLevel=t}enableLogUpload(){XO("UPLOAD_LOG",!0)}disableLogUpload(){XO("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(t){this.proxyServerURL=t}prefix(t){return new tA(this).prefix(t)}log(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Date.now()-iA<100)return void setTimeout((()=>{this.log(...e)}),Date.now()-iA);const n=Math.max(0,Math.min(4,e[0]));if(e[0]=eA()+" Agora-SDK [".concat(oA(n),"]:"),this.appendLogToWaitingList(n,...e),n<this.logLevel)return;const i=eA()+" %cAgora-SDK [".concat(oA(n),"]:");let o=[];if(!qO("USE_NEW_LOG"))switch(n){case nA.DEBUG:o=[i,"color: #64B5F6;"].concat(e.slice(1)),console.log.apply(console,o);break;case nA.INFO:o=[i,"color: #1E88E5; font-weight: bold;"].concat(e.slice(1)),console.log.apply(console,o);break;case nA.WARNING:o=[i,"color: #FB8C00; font-weight: bold;"].concat(e.slice(1)),console.warn.apply(console,o);break;case nA.ERROR:o=[i,"color: #B00020; font-weight: bold;"].concat(e.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(Date.now()-iA<100)return void setTimeout((()=>{this.uploadLog(...e)}),Date.now()-iA);const n=Math.max(0,Math.min(4,e[0]));e[0]=eA()+" Agora-SDK [".concat(oA(n),"]:"),this.appendLogToWaitingList(n,...e)}appendLogToWaitingList(t){if(!qO("UPLOAD_LOG"))return;for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];Array.isArray(r[0])?r[0][0]=rA()+" Agora-SDK [".concat(oA(t),"]:"):r[0]=rA()+" Agora-SDK [".concat(oA(t),"]:");let i="";r.forEach((t=>{"object"==typeof t&&(t=JSON.stringify(t)),i+="".concat(t," ")})),this.uploadLogWaitingList.push({payload_str:i,log_level:t,log_item_id:this.currentLogID++}),"uploading"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const t=this.uploadLogUploadingList,e={sdk_version:KO,process_id:qO("PROCESS_ID"),payload:JSON.stringify(t)};return function(t,e,r,n){const i=Object.assign({},kO,n);let o=i.timeout;const s=async()=>{await function(t){return new Promise((e=>{window.setTimeout(e,t)}))}(o),o*=i.timeoutFactor,o=Math.min(i.maxRetryTimeout,o)};let a=!1;const c=new Promise((async(n,o)=>{e=e||(()=>!1),r=r||(()=>!0);for(let c=0;c<i.maxRetryCount;c+=1){if(a)return o(new mO(AO.OPERATION_ABORTED));try{const r=await t();if(!e(r,c))return n(r);if(c+1===i.maxRetryCount)return n(r);await s()}catch(t){if(!r(t,c))return o(t);if(c+1===i.maxRetryCount)return o(t);await s()}}}));return c.cancel=()=>a=!0,c}((async()=>{const t=await fO.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(qO("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(qO("LOG_UPLOAD_SERVER"),"/upload/v1")),e,{responseType:"text"});if("OK"!==t.data){const e=new Error("unexpected upload log response");throw e.response=t,e}}),(()=>(this.uploadLogUploadingList=[],!1)),(e=>{const r={status:-1,message:e.message,errorRange:t.map((t=>t.log_item_id))};return e.response?(r.status=e.response.status,r.data=e.response.data,r.headers=e.response.headers):e.request&&(r.status=e.request.status),$O.reportLogUploadError(r),!0}),{timeout:qO("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:qO("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,qO("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),qO("UPLOAD_LOG_INTERVAL"))})).catch((t=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),qO("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout((()=>this.uploadLogInterval()),qO("UPLOAD_LOG_RETRY_INTERVAL_V1"))})))}}const aA=new sA;let cA=function(t){return t.FREE="free",t.UPLOADING="uploading",t}({}),uA=function(t){return t[t.MISC=0]="MISC",t[t.INTERNAL_EVENT=1]="INTERNAL_EVENT",t[t.PUBLIC_EVENT=2]="PUBLIC_EVENT",t[t.WEB_EVENT=3]="WEB_EVENT",t[t.INTERNAL_API=4]="INTERNAL_API",t[t.WEB_API=5]="WEB_API",t[t.PUBLIC_API=6]="PUBLIC_API",t}({});const EA={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let lA=function(t){return t.PUBLISH="publish",t.SUBSCRIBE="subscribe",t.WS_COMPRESSOR_INIT="ws_compressor_init",t.SESSION_INIT="session_init",t.JOIN_CHOOSE_SERVER="join_choose_server",t.REQ_USER_ACCOUNT="req_user_account",t.JOIN_GATEWAY="join_gateway",t.REJOIN_GATEWAY="rejoin_gateway",t.STREAM_SWITCH="stream_switch",t.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",t.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",t.FIRST_VIDEO_RECEIVED="first_video_received",t.FIRST_AUDIO_RECEIVED="first_audio_received",t.FIRST_VIDEO_DECODE="first_video_decode",t.FIRST_AUDIO_DECODE="first_audio_decode",t.ON_ADD_AUDIO_STREAM="on_add_audio_stream",t.ON_ADD_VIDEO_STREAM="on_add_video_stream",t.ON_UPDATE_STREAM="on_update_stream",t.ON_REMOVE_STREAM="on_remove_stream",t.USER_ANALYTICS="req_user_analytics",t.PC_STATS="pc_stats",t.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities",t.AB_TEST="ab_test",t}({}),pA=function(t){return t.SESSION="io.agora.pb.Wrtc.Session",t.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",t.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",t.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",t.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",t.PUBLISH="io.agora.pb.Wrtc.Publish",t.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",t.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",t.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",t.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",t.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",t.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",t.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",t.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",t.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",t.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",t.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",t.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",t.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",t.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",t.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",t.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",t.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",t.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",t.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",t.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",t.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",t.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",t.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",t.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",t.PC_STATS="io.agora.pb.Wrtc.PCStats",t.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities",t.AB_TEST="io.agora.pb.Wrtc.ABTest",t}({}),dA=function(t){return t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t}({}),hA=function(t){return t[t.SESSION=26]="SESSION",t[t.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",t[t.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",t[t.JOIN_GATEWAY=28]="JOIN_GATEWAY",t[t.PUBLISH=30]="PUBLISH",t[t.SUBSCRIBE=29]="SUBSCRIBE",t[t.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",t[t.STREAM_SWITCH=32]="STREAM_SWITCH",t[t.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",t[t.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",t[t.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",t[t.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",t[t.API_INVOKE=41]="API_INVOKE",t[t.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",t[t.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",t[t.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",t[t.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",t[t.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",t[t.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",t[t.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",t[t.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",t[t.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",t[t.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",t[t.WORKER_EVENT=156]="WORKER_EVENT",t[t.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",t[t.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",t[t.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",t[t.USER_ANALYTICS=1e4]="USER_ANALYTICS",t[t.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED",t}({});function _A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fA(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_A(Object(r),!0).forEach((function(e){mE(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}class TA{constructor(){mE(this,"baseInfoMap",new Map),mE(this,"proxyServer",void 0),mE(this,"eventUploadTimer",void 0),mE(this,"setSessionIdTimer",void 0),mE(this,"url",void 0),mE(this,"sids",new Set),mE(this,"backupUrl",void 0),mE(this,"_appId",void 0),mE(this,"_aid",0),mE(this,"keyEventUploadPendingItems",[]),mE(this,"normalEventUploadPendingItems",[]),mE(this,"apiInvokeUploadPendingItems",[]),mE(this,"apiInvokeCount",0),mE(this,"apiInvokeLoggedCount",0),mE(this,"ltsList",[]),mE(this,"lastSendNormalEventTime",Date.now()),mE(this,"customReportCounterTimer",void 0),mE(this,"customReportCount",0),mE(this,"extApiInvoke",(async t=>{for(const e of t){const t=fA(fA({},e),{},{sid:null,invokeId:++this.apiInvokeCount,tag:CO.TRACER});this.sendApiInvoke(t)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),qO("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),qO("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(t){return this.baseInfoMap.get(t)}setAppId(t){this._appId=t,this._aid=parseInt(t.replace(/[a-fA-F0-9]{8}/g,(t=>{let[e,r]=t;return e+r})),16)||0}reportApiInvoke(t,e,r){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const n=Date.now();this.apiInvokeCount+=1;const i=this.apiInvokeCount,o=!!qO("SHOW_REPORT_INVOKER_LOG"),s=!!qO("SHOW_REPORT_USER_INVOKER_LOG"),a=o||s&&e.id;a&&(this.apiInvokeLoggedCount+=1);const c=this.apiInvokeLoggedCount;function u(t,r){if(a){let n="[apiInvoke-".concat(c,"]");e.id&&(n+="[".concat(e.id,"]")),e.name&&(n+="[".concat(e.name,"]")),aA.info("".concat(n," ").concat(t),"start"===t?e.options:r||"")}}const E=()=>({tag:e.tag,invokeId:i,sid:t,name:e.name,apiInvokeTime:n,options:e.options,states:e.states||null});u("start");let l=!1;PO(e.timeout).then((()=>{l||(this.sendApiInvoke(fA(fA({},E()),{},{error:AO.API_INVOKE_TIMEOUT,success:!1})),u("timeout"))}));const p=new mO(AO.UNEXPECTED_ERROR,"".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{const n=()=>{if(l)throw p;return l=!0,this.sendApiInvoke(fA(fA({},E()),{},{success:!0},e.reportResult&&{result:t})),u("onSuccess"),t};return r?xO(n,e.name+"Success",r,(()=>l=!0)):n()},onError:t=>{const n=()=>{if(l)throw t;l=!0,this.sendApiInvoke(fA(fA({},E()),{},{success:!1,error:t})),u("onFailure",t.toString())};return r?xO(n,e.name+"Error",r,(()=>l=!0)):n()}}}sessionInit(t,e){if(this.baseInfoMap.has(t))return;const r=Date.now(),n=this.createBaseInfo(t,r);n.cname=e.cname;const i=Object.assign({},{willUploadConsoleLog:qO("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:YO?"global":"oversea",areas:qO("AREAS")&&qO("AREAS").join(",")},e.extend),{stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:u,clientRole:E}=e,l=Date.now(),p=fA(fA({},n),{},{eventType:lA.SESSION_INIT,appid:e.appid,browser:navigator.userAgent,buildFormat:e.buildFormat,build:"v4.23.1-0-gea45199f-dirty(1/16/2025, 3:18:04 PM)",lts:l,elapse:l-r,extend:JSON.stringify(i),mode:e.mode,process:qO("PROCESS_ID"),appType:qO("APP_TYPE"),success:!0,version:KO,stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:u,clientType:window.navigator.userAgent.includes("AgoraWebView")?42:20,clientRole:E,serviceId:qO("PROCESS_ID"),extensionID:qO("PLUGIN_INFO").join(",")||""});this.send({type:pA.SESSION,data:p},!0)}joinChooseServer(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA({},n),{},{role:e.role,eventType:lA.JOIN_CHOOSE_SERVER,lts:i,eventElapse:e.elapse||i-e.lts,chooseServerAddr:e.csAddr,errorCode:e.ec,elapse:i-r.startTime,success:e.succ,chooseServerAddrList:JSON.stringify(e.serverList),uid:e.uid?parseInt(e.uid):null,cid:e.cid?parseInt(e.cid):null,chooseServerIp:e.csIp||"",opid:e.opid,unilbsServerIds:e.unilbsServerIds,extend:e.extend||void 0,isHttp3:e.isHttp3,corssRegionTagReq:e.corssRegionTagReq||void 0,corssRegionTagRes:e.corssRegionTagRes||void 0});this.send({type:pA.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA({},n),{},{eventType:lA.REQ_USER_ACCOUNT,lts:i,success:e.success,serverAddress:e.serverAddr,stringUid:e.stringUid,uid:e.uid,errorCode:e.errorCode,elapse:e.elapse||i-r.startTime,eventElapse:i-e.lts,extend:JSON.stringify(e.extend)});this.send({type:pA.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info;e.vid&&(n.vid=e.vid),n.uid=e.uid,n.cid=e.cid;const i=Date.now(),{firstSuccess:o,avoidJoinStartTime:s,addr:a,isProxy:c}=e,u=i-(o&&s?s:r.startTime),E=fA(fA({},n),{},{eventType:lA.JOIN_GATEWAY,lts:i,gatewayAddr:e.addr,success:e.succ,errorCode:e.ec,errorMsg:e.errorMsg||"",elapse:u,eventElapse:i-e.lts,firstSuccess:o,signalChannel:e.signalChannel,preload:e.preload?1:0,installId:HO(),isABTestSuccess:e.isABTestSuccess?1:0}),l=E.success?1:0;if(e.succ&&(r.lastJoinSuccessTime=i),o)this.send({type:pA.JOIN_GATEWAY,data:E},!0);else{let t;if(a)if(c){const e=a.match(/h=(\d{1,3}-){3}\d{1,3}/g),r=a.match(/p=[0-9]{1,6}/g);t={isSuccess:l,gatewayIp:e&&e.length?e[0].split("=")[1].replace(/-/g,"."):"",port:r&&r.length?r[0].split("=")[1]:"",isProxy:c?1:0}}else{const e=a.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),r=a.match(/(:|p=)[0-9]{1,6}/g);t={isSuccess:l,gatewayIp:e&&e.length?e[0].split("//")[1].replace(/-/g,"."):"",port:r&&r.length?r[0].split(/:|p=/g)[1]:"",isProxy:c?1:0}}else t={isSuccess:l,gatewayIp:"",port:"",isProxy:c?1:0};delete E.success,delete E.eventType,delete E.firstSuccess,E.vid=Number(E.vid);const e=Object.assign({},E,t,{eventType:lA.REJOIN_GATEWAY});this.send({type:pA.RE_JOIN_GATEWAY,data:e},!0)}}joinChannelTimeout(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=Date.now(),i=fA(fA({},r.info),{},{lts:n,timeout:e,elapse:n-r.startTime});this.send({type:pA.JOIN_CHANNEL_TIMEOUT,data:i},!0)}publish(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA({},n),{},{eventType:lA.PUBLISH,lts:i,eventElapse:e.eventElapse,elapse:i-r.startTime,success:e.succ,errorCode:e.ec,videoName:e.videoName,audioName:e.audioName,screenName:e.screenName,screenshare:e.screenshare,audio:e.audio,video:e.video,p2pid:e.p2pid,publishRequestid:e.publishRequestid});this.send({type:pA.PUBLISH,data:o},!0)}subscribe(t,e,r){const n=this.baseInfoMap.get(t);if(!n)return;const i=n.info,o=Date.now(),s=fA(fA({},i),{},{eventType:lA.SUBSCRIBE,lts:o,eventElapse:e.eventElapse,elapse:o-n.startTime,success:e.succ,errorCode:e.ec,video:e.video,audio:e.audio,subscribeRequestid:e.subscribeRequestid,p2pid:e.p2pid,preSsrc:e.preSsrc?1:0},r&&{extend:JSON.stringify({isMassSubscribe:!0})});"string"==typeof e.peerid?s.peerSuid=e.peerid:s.peer=e.peerid,this.send({type:pA.SUBSCRIBE,data:s},!0)}wsCompressorInit(t){var e;const r=[...PE(e=this.baseInfoMap).call(e)],n=r.length?r[0]:"UnableToGetSid",i=this.baseInfoMap.get(n);if(!i)return;const o=i.info,s=Date.now(),a=fA(fA({},o),{},{eventType:lA.WS_COMPRESSOR_INIT,lts:s,eventElapse:t.eventElapse,elapse:s-i.startTime,status:t.status?1:2});this.send({type:pA.WS_COMPRESSOR_INIT,data:a},!0)}firstRemoteVideoDecode(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=fA(fA(fA({},o),n),{},{elapse:s-i.startTime,eventType:e,lts:s,firstDecodeFrame:Math.max((n.firstFrame||s)-i.startTime,0),apEnd:Math.max(n.apEnd-i.startTime,0),apStart:Math.max(n.apStart-i.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-i.startTime,0),joinGwStart:Math.max(n.joinGwStart-i.startTime,0),pcEnd:Math.max(n.pcEnd-i.startTime,0),pcStart:Math.max(n.pcStart-i.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-i.startTime,0),subscriberStart:Math.max(n.subscriberStart-i.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-i.startTime,0)});this.send({type:r,data:a},!0)}firstRemoteFrame(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=fA(fA(fA({},o),n),{},{elapse:s-i.startTime,eventType:e,lts:s});this.send({type:r,data:a},!0)}abTest(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA(fA({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:i-r.startTime,eventType:lA.AB_TEST,lts:i});this.send({type:pA.AB_TEST,data:o},!0)}pcStats(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA(fA({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:i-r.startTime,eventType:lA.PC_STATS,lts:i,preallocation:e.preallocation?1:0});this.send({type:pA.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(t,e){if(t){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA(fA({},n),e),{},{vid:void 0===n.vid?0:Number(n.vid),eventType:lA.UPDATE_REMOTE_RTPCAPABILITIES,lts:i});this.send({type:pA.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(t,e,r,n){const i=this.baseInfoMap.get(t);if(!i)return;const o=i.info,s=Date.now(),a=fA(fA(fA({},o),n),{},{eventType:e,lts:s});this.send({type:r,data:a},!0)}streamSwitch(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA({},n),{},{eventType:lA.STREAM_SWITCH,lts:i,isDual:e.isdual,elapse:i-r.startTime,success:e.succ});this.send({type:pA.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA({},n),{},{eventType:lA.REQUEST_PROXY_APPCENTER,lts:i,eventElapse:i-e.lts,elapse:i-r.startTime,APAddr:e.APAddr,workerManagerList:e.workerManagerList,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:pA.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA({},n),{},{eventType:lA.REQUEST_PROXY_WORKER_MANAGER,lts:i,eventElapse:i-e.lts,elapse:i-r.startTime,workerManagerAddr:e.workerManagerAddr,response:e.response,errorCode:e.ec,success:e.succ});this.send({type:pA.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(t){this.proxyServer=t,t?aA.debug("reportProxyServerurl: ".concat(t)):aA.debug("disable reportProxyServerurl: ".concat(t))}peerPublishStatus(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA({},n),{},{subscribeElapse:e.subscribeElapse,peer:e.peer,peerPublishDuration:Math.max(e.audioPublishDuration,e.videoPublishDuration),audiotag:e.audioPublishDuration>0?1:-1,videotag:e.videoPublishDuration>0?1:-1,lts:i,elapse:i-r.startTime,joinChannelSuccessElapse:i-(r.lastJoinSuccessTime||i),peerPublishDurationVideo:e.videoPublishDuration,peerPublishDurationAudio:e.audioPublishDuration});this.send({type:pA.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=function(t,e,r){const n=t[e];if(!n||"string"!=typeof n)return[t];t[e]="";const i=vO(JSON.stringify(t));let o=0;const s=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=r-i||(s[s.length]=OO(OO({},t),{},{[e]:n.substring(o,c)}),o=c,a=n.charCodeAt(c)<=127?1:3);return o!==n.length-1&&(s[s.length]=OO(OO({},t),{},{[e]:n.substring(o)})),s}(fA(fA(fA({},n),e),{},{elapse:i-r.startTime,lts:i,productType:"WebRTC"}),"payload",1300);o.forEach((t=>this.send({type:pA.WORKER_EVENT,data:t},!0)))}apworkerEvent(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA(fA({},n),e),{},{elapse:i-r.startTime,lts:i});this.send({type:pA.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA(fA({},n),e),{},{elapse:i-r.startTime,lts:i,extend:e.extend||void 0});this.send({type:pA.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(t,e){const r=this.baseInfoMap.get(t);if(!r)return;const n=r.info,i=Date.now(),o=fA(fA(fA({},n),e),{},{elapse:i-r.startTime,lts:i});this.send({type:pA.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(t,e){if(this.customReportCount+=e.length,this.customReportCount>qO("CUSTOM_REPORT_LIMIT"))throw new mO(AO.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const r=Date.now(),n=e.map((e=>({type:pA.USER_ANALYTICS,data:fA(fA({sid:t},e),{},{lts:r})})));try{qO("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(t){throw aA.error("send custom report message failed",t.toString()),new mO(AO.CUSTOM_REPORT_SEND_FAILED,t.message)}}sendApiInvoke(t){const e=qO("NOT_REPORT_EVENT");if(t.tag&&$E(e)&&$E(e).call(e,t.tag))return!1;if(null===t.sid)return this.apiInvokeUploadPendingItems.push(t),!1;const r=this.baseInfoMap.get(t.sid);if(!r)return this.apiInvokeUploadPendingItems.push(t),!1;const{cname:n,uid:i,cid:o}=r.info;let s;if(t.lts=t.lts||Date.now(),t.error)if(t.error instanceof mO){const{code:e,message:r}=t.error;s=e||(r||t.error.toString())}else s=t.error.toString();const a={invokeId:t.invokeId,sid:t.sid,cname:n,cid:o,uid:i,lts:t.lts,success:t.success,elapse:t.lts-r.startTime,execElapse:t.lts-t.apiInvokeTime,apiName:t.name,options:t.options?JSON.stringify(t.options):void 0,execStates:t.states?JSON.stringify(t.states):void 0,execResult:t.result?JSON.stringify(t.result):void 0,errorCode:t.error?s:void 0,errorMsg:t.error?JSON.stringify(t.error):void 0};return this.send({type:pA.API_INVOKE,data:a},!1),!0}addSid(t){this.sids.add(t)}removeSid(t){this.sids.delete(t)}appendSessionId(){const t=this.apiInvokeUploadPendingItems;if(0===t.length)return;const e=Array.from(this.sids).find((t=>null!==t));e&&t.forEach((t=>{t&&(t.sid=e,this.sendApiInvoke(Object.assign({},t)))})),t.length=0}send(t,e){if(e)return this.keyEventUploadPendingItems.push(t),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(t),this.normalEventUploadPendingItems.length>qO("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(t,e){const r=[],n=[];for(;t.length;){const e=t.shift();r.length<20?r.push(e):n.push(e)}t.push(...n);for(const t of[...r]){var i;if(-1!==this.ltsList.indexOf(t.data.lts))t.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(t.data.lts);else this.ltsList.push(t.data.lts),kl(i=this.ltsList).call(i,((t,e)=>t-e))}e||(this.lastSendNormalEventTime=Date.now());return qO("ENABLE_EVENT_REPORT")?(r.length&&(qO("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(r):this.postDataToStatsCollector(r)).catch((t=>r=>{qO("EVENT_REPORT_RETRY")&&(e?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(t):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(t),this.normalEventUploadPendingItems.length>qO("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-qO("NORMAL_EVENT_QUEUE_CAPACITY")),aA.warning("report: drop normal events"))))})(r)),t):t}async postDataToStatsCollector2(t){LO.networkState===yO.OFFLINE&&await Qf.race([LO.onlineWaiter,PO(2*kO.maxRetryTimeout)]);const e=t=>{let e=new Uint8Array;return t.forEach((t=>{const r=function(t){return(new TextEncoder).encode(t)}(JSON.stringify(t.data)),n=new ArrayBuffer(5),i=(t=>{let e=0;return Object.entries(pA).forEach((r=>{let[n,i]=r;i===t.type&&(e=hA[n])})),e})(t),o=new DataView(n);o.setUint16(0,r.byteLength,!0),o.setUint8(2,255&i),o.setUint8(3,i>>>8&255),o.setUint8(4,i>>>16&255),e=NO(e,new Uint8Array(n)),e=NO(e,r)})),e},r="event";let n=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qO("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(r):"https://".concat(qO("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(r);for(let i=0;i<2;i+=1){1===i&&(n=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qO("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(r):"https://".concat(qO("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(r));try{await BO(n,{timeout:1e4,data:e(t),headers:fA(fA({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(t){if(1===i)throw t;continue}return}}async postDataToStatsCollector(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=(t=>{const e=t&&t.data.sid&&this.baseInfoMap.get(t.data.sid);return e&&e.info.vid&&+e.info.vid||0})(t[0]),n=r?void 0:this._aid,i={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:t.map((t=>JSON.stringify(t))),vid:r,aid:n};LO.networkState===yO.OFFLINE&&await Qf.race([LO.onlineWaiter,PO(2*kO.maxRetryTimeout)]);const o=e?"/events/proto-raws":"/events/messages";let s=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qO("EVENT_REPORT_DOMAIN"),"&p=").concat(qO("STATS_COLLECTOR_PORT"),"&d=").concat(o):"https://".concat(qO("EVENT_REPORT_DOMAIN"),":").concat(qO("STATS_COLLECTOR_PORT")).concat(o));for(let t=0;t<2;t+=1){1===t&&(s=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(qO("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(qO("STATS_COLLECTOR_PORT"),"&d=").concat(o):"https://".concat(qO("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(qO("STATS_COLLECTOR_PORT")).concat(o)));try{e?await WO(s,{timeout:1e4,data:i}):await BO(s,{timeout:1e4,data:i})}catch(e){if(1===t)throw e;continue}return}}createBaseInfo(t,e){const r=Object.assign({},EA);return r.sid=t,this.baseInfoMap.set(t,{info:r,startTime:e}),r}reportResourceTiming(t,e){const r=performance.getEntriesByName(t),n=r[r.length-1];n&&this.reportApiInvoke(e,{name:"Client.resourceTiming",options:n,tag:CO.TRACER}).onSuccess()}}const RA=new TA;$O.on("REPORT_LOG_UPLOAD",(t=>{t.networkState=LO.networkState,RA.reportApiInvoke(null,{name:"logUploadError",options:t,tag:CO.TRACER}).onSuccess("logUploadError")}));t.AgoraEventUploadId=dA,t.AgoraLogger=sA,t.AgoraRTCError=class extends mO{constructor(t){super(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2?arguments[2]:void 0),mE(this,"name","AgoraRTCException")}print(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error";return super.print(t,aA)}throw(){super.throw(aA)}},t.AgoraRTCErrorCode=AO,t.AgoraRTCEvent=lA,t.AgoraRTCEventReport=TA,t.AgoraRTCEventUploadType=pA,t.EVENT_BASE_TEMPLATE=EA,t.EventNameToID=hA,t.LOG_TYPE=uA,t.LOG_UPLOAD_STATE=cA,t.apiInvoke=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,r,n){const i=n.value;if("function"==typeof i){const o=t.className||e.__className__||("AgoraRTCClient"===e.constructor.name?"Client":e.constructor.name);n.value=function(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];let c=s;if(t.argsMap)try{c=t.argsMap(this,...s)}catch(t){aA.warning(t),c=[]}try{JSON.stringify(c)}catch(t){aA.warning("arguments for method ".concat(o,".").concat(String(r)," not serializable for apiInvoke.")),c=[]}const u=(t.report||RA).reportApiInvoke(this._sessionId||null,{id:this._clientId||(null===(e=this.store)||void 0===e?void 0:e.clientId)||this._ID,name:"".concat(o,".").concat(String(r)),options:c,tag:CO.TRACER,reportResult:t.reportResult},t.throttleTime);try{const e=i.apply(this,s);return e instanceof Qf?e.then((e=>(u.onSuccess(t.reportResult&&e),e))).catch((t=>{throw u.onError(t),t})):(u.onSuccess(t.reportResult&&e),e)}catch(t){throw u.onError(t),t}}}return n}},t.isEventCustomReportParams=function(t){return SO(t.reportId,"params.reportId",0,100,!1),SO(t.category,"params.category",0,100,!1),SO(t.event,"params.event",0,100,!1),SO(t.label,"params.label",0,100,!1),function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(t<r||t>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(t){return"number"==typeof t&&t%1==0}(t))throw new mO(AO.INVALID_PARAMS,"invalid ".concat(e,": the value range is [").concat(r,", ").concat(n,"]. integer only"))}(t.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0},t.logReportBus=$O,t.logger=aA,t.report=RA}));
